import{c as de,_ as he,Z as ue,r as c,O as e,Q as W,X as xe,aj as me,ag as fe,ax as $,ah as pe,a4 as ge,S as be,aX as q}from"./index-BZhcN-Wz.js";import{M as ye}from"./MarkdownRenderer-C44_sa_5.js";import{S as we}from"./settings-CmmwLl-K.js";import{B as je}from"./bar-chart-3-isb_stgM.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=de("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Ee=({isOpen:y,onClose:F})=>{const h=he(),{selectedModel:J}=ue(),[x,f]=c.useState([]),[T,L]=c.useState(""),[A,M]=c.useState(!1),[_,E]=c.useState(null),[R,I]=c.useState(null),[z,P]=c.useState(""),[N,H]=c.useState(!1),[U,O]=c.useState(""),[B,S]=c.useState(null),[X,w]=c.useState([]),[K,G]=c.useState(!1),D=c.useRef(null),Y=c.useRef(null),u=c.useRef(null);if(c.useEffect(()=>{if(!y)return;const t=Y.current;if(!t)return;let r=!1,a=!1;const n=async()=>{if(a||r||u.current)return;const s=t.getBoundingClientRect();if(!(!s.width||!s.height)){r=!0;try{const l=await q(()=>import("./index-BzBQJFYZ.js"),[]);if(a)return;const i=l.init(t);u.current=i}catch(l){console.error("ECharts init error",l)}finally{r=!1}}};n();const o=()=>{try{if(!u.current){n();return}u.current.resize()}catch(s){console.error("ECharts resize error",s)}};return window.addEventListener("resize",o),()=>{a=!0,window.removeEventListener("resize",o);const s=u.current;if(s){try{s.dispose()}catch(l){console.error("ECharts dispose error",l)}u.current===s&&(u.current=null)}}},[y]),c.useEffect(()=>{if(y&&!(!u.current||!R))try{u.current.setOption(R,!0),u.current.resize()}catch(t){console.error("ECharts setOption error",t)}},[R,y]),c.useEffect(()=>{if(u.current)try{u.current.resize()}catch(t){console.error("ECharts resize error",t)}},[N]),c.useEffect(()=>{y||(I(null),P(""),E(null),M(!1),O(""),S(null))},[y]),c.useEffect(()=>{var r;if(!x.length)return;const t=((r=x[0])==null?void 0:r.length)||0;t!==0&&w(a=>{if(a.length===t)return a;if(a.length===0)return Array.from({length:t},()=>120);const n=[...a];for(;n.length<t;)n.push(120);return n.length>t&&(n.length=t),n})},[x]),!y)return null;const ee=()=>{D.current&&D.current.click()},te=t=>t.split(/\r?\n/).map(a=>a.trim()).filter(a=>a.length>0).map(a=>{const n=[];let o="",s=!1;for(let l=0;l<a.length;l+=1){const i=a[l];i==='"'?s&&a[l+1]==='"'?(o+='"',l+=1):s=!s:i===","&&!s?(n.push(o),o=""):o+=i}return n.push(o),n.map(l=>l.trim())}),re=t=>{var n;const r=(n=t.target.files)==null?void 0:n[0];if(!r)return;const a=r.name.toLowerCase();if(a.endsWith(".csv")){const o=new FileReader;o.onload=s=>{var l;try{const i=String(((l=s.target)==null?void 0:l.result)||""),m=te(i);if(!m.length){h.info("Uploaded CSV is empty.");return}f(m),h.success("CSV data loaded.")}catch(i){console.error("CSV parse error",i),h.error("Failed to parse CSV file.")}},o.readAsText(r);return}if(a.endsWith(".xlsx")||a.endsWith(".xls")){const o=new FileReader;o.onload=async s=>{var l;try{const i=(l=s.target)==null?void 0:l.result;if(!i){h.error("Failed to read Excel file.");return}const m=await q(()=>import("./xlsx-D_0l8YDs.js"),[]),g=m.read(i,{type:"array"}),b=g.SheetNames[0],v=g.Sheets[b],C=m.utils.sheet_to_json(v,{header:1});if(!C.length){h.info("Uploaded sheet is empty.");return}f(C),h.success(`Excel data loaded from sheet "${b}".`)}catch(i){console.error("Excel parse error",i),h.error("Failed to parse Excel file.")}},o.readAsArrayBuffer(r);return}h.error("Please upload a CSV or Excel file.")},ae=()=>{var a;const t=((a=x[0])==null?void 0:a.length)||3,r=Array.from({length:t},()=>"");f(n=>[...n,r])},se=()=>{if(!x.length){const t=Array.from({length:3},()=>"");f([t]),w([120,120,120]);return}f(t=>t.map(r=>[...r,""])),w(t=>t.length?[...t,t[t.length-1]||120]:[120])},ne=()=>{f([]),w([])},oe=()=>{var l,i;if(!x.length){h.info("No data to auto fit. Please add or upload data first.");return}const t=x,r=((l=t[0])==null?void 0:l.length)||0;if(!r)return;const a=[],n=80,o=400,s=12;for(let m=0;m<r;m+=1){let g=0;for(let v=0;v<t.length;v+=1){const C=((i=t[v])==null?void 0:i[m])??"",V=String(C).length;V>g&&(g=V)}const b=Math.min(o,Math.max(n,g*s));a.push(b)}w(a),h.success("Columns auto fitted to data.")},le=(t,r,a)=>{f(n=>{const o=n.map(s=>[...s]);return o[t]?(o[t][r]=a,o):n})},ie=t=>{if(O(t),!t.trim()){I(null),S(null);return}try{const r=JSON.parse(t);I(r),S(null)}catch{S("Invalid JSON. Fix errors to update the chart.")}},Q=async(t,r)=>{var a,n,o;if(!t.length){h.info("Please upload data or enter data into the sheet.");return}if(!r.trim()){h.info("Please describe how to interpret and chart the data.");return}M(!0),E(null);try{const s=t[0]||[],l=t.slice(1),i={header:s,rows:l,prompt:r.trim()},m="You are a data visualization assistant. You create Apache ECharts option objects and clear explanations. You must respond with strict JSON only, no markdown, no comments.",g=`
Data table (first row is header):
${JSON.stringify(i,null,2)}

Task:
- Design an effective chart using Apache ECharts (version 5) based on the data and the prompt.
- Use the data values directly inside the option.
- Prefer simple chart types (line, bar, scatter, pie) unless the prompt clearly asks for something different.

Response format (JSON only, no backticks):
{
  "option": { /* valid ECharts option object using the data above */ },
  "interpretation": "Short explanation of the chart and key insights."
}
`,b=await fetch("https://multi-model-worker.study-llm.me/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:J,messages:[{role:"system",content:m},{role:"user",content:g}],stream:!1})});if(!b.ok)throw new Error(`API error: ${b.statusText}`);const C=((o=(n=(a=(await b.json()).choices)==null?void 0:a[0])==null?void 0:n.message)==null?void 0:o.content)||"{}",Z=String(C).replace(/```json/gi,"").replace(/```/g,"").trim().replace(/,\s*"formatter"\s*:\s*function\s*\([^)]*\)\s*\{[\s\S]*?},/g,"},").replace(/,\s*"formatter"[\s\S]*?},/g,"},").replace(/:\s*function\s*\([^)]*\)\s*\{[\s\S]*?\}/g,": null");let j;try{j=JSON.parse(Z)}catch(k){throw console.error("Failed to parse AI chart response",k,Z),new Error("AI returned invalid JSON for chart option.")}if(!j||typeof j!="object"||!j.option)throw new Error('AI response does not contain a valid "option" field.');const d={...j.option};if(d.toolbox||(d.toolbox={}),typeof d.toolbox=="object"&&!Array.isArray(d.toolbox)){const k=d.toolbox.feature||{};d.toolbox.feature={...k,dataZoom:{yAxisIndex:"none"},restore:k.restore||{},saveAsImage:k.saveAsImage||{}}}d.dataZoom||(d.dataZoom=[{type:"slider",yAxisIndex:0,orient:"vertical",right:5,top:60,bottom:40}]),d.grid||(d.grid={}),typeof d.grid=="object"&&!Array.isArray(d.grid)&&d.grid.top===void 0&&(d.grid.top=80),I(d),O(JSON.stringify(d,null,2)),S(null),P(typeof j.interpretation=="string"?j.interpretation:""),h.success("Chart generated.")}catch(s){console.error("Generate chart error",s),s!=null&&s.message&&(s.message.includes("Failed to fetch")||s.message.includes("Network"))?(E("Network error while contacting the AI service. Please check your connection and try again."),h.error("Network error while contacting the AI service.")):(E((s==null?void 0:s.message)||"Failed to generate chart from AI."),h.error("Failed to generate chart from AI."))}finally{M(!1)}},ce=()=>{Q(x,T)},p=t=>{var o;let r,a;t==="pareto"?(r=[["Category","Value"],["Defect A","80"],["Defect B","40"],["Defect C","25"],["Defect D","15"],["Defect E","10"]],a="Create a Pareto chart where Category is on the X axis, Value is the bar series, and the cumulative percentage line is overlaid on a second Y axis."):t==="sankey"?(r=[["Source","Target","Value"],["Email","Website","120"],["Email","Sales","45"],["Ads","Website","180"],["Ads","Sales","60"],["Social","Website","90"],["Social","Sales","30"]],a="Create a Sankey diagram showing the flow from Source to Target using Value as the link weight."):t==="boxplot"?(r=[["Region","Value"],["North","12"],["North","15"],["North","18"],["North","22"],["North","25"],["South","10"],["South","14"],["South","17"],["South","19"],["South","23"],["East","8"],["East","11"],["East","15"],["East","18"],["East","21"],["West","9"],["West","13"],["West","16"],["West","20"],["West","24"]],a="Create a boxplot chart grouping values by Region to compare distributions, with mean lines connected in red color between groups."):t==="timeSeries"?(r=[["Month","Actual","Target"],["Jan","72","80"],["Feb","75","80"],["Mar","78","82"],["Apr","81","82"],["May","79","83"],["Jun","83","84"],["Jul","85","85"],["Aug","88","86"],["Sep","86","86"],["Oct","89","87"],["Nov","91","88"],["Dec","93","89"]],a="Create a dual-line time series chart where Month is on the X axis, Actual and Target are two smooth line series with markers, and the area under the Actual line is lightly filled to emphasize improvement over time. Add a tooltip with all series values and a legend at the top."):t==="stackedBar"?(r=[["Region","On-time","Late","Very Late"],["North","160","40","10"],["South","140","55","20"],["East","120","60","25"],["West","150","35","15"]],a="Create a stacked bar chart where Region is on the X axis and On-time, Late, and Very Late are stacked bar series on the Y axis to show shipment reliability mix by region. Include percentage labels inside the bars and a legend at the bottom."):t==="dualAxis"?(r=[["Month","Revenue","Margin %"],["Q1-2024","420000","18.5"],["Q2-2024","460000","19.2"],["Q3-2024","510000","17.8"],["Q4-2024","580000","20.4"]],a="Create a combo chart with Revenue as blue bars on the primary Y axis and Margin % as an orange line with circle markers on a secondary Y axis (0â€“25%). Use Month on the X axis and show both values in the tooltip when hovering."):t==="funnel"?(r=[["Stage","Count"],["Visited site","12000"],["Signed up","5100"],["Activated trial","2300"],["Requested quote","900"],["Closed deal","320"]],a="Create a funnel chart with Stage on the Y axis and Count as the funnel value, sorted from largest to smallest. Show conversion percentages between stages in the labels so the user can see drop-off at each step."):(r=[["Sample","Value"],["1","-0.8"],["2","-0.2"],["3","0.1"],["4","0.4"],["5","0.0"],["6","0.6"],["7","1.1"],["8","0.9"],["9","-0.4"],["10","0.3"],["11","0.7"],["12","1.3"],["13","-0.6"],["14","0.2"],["15","0.5"],["16","1.0"],["17","-0.3"],["18","0.8"],["19","1.2"],["20","0.4"]],a="Create a histogram or density-style chart to show the approximate normal distribution of the Value column."),f(r);const n=((o=r[0])==null?void 0:o.length)||0;if(n>0){const s=Array.from({length:n},()=>140);w(s)}else w([]);L(a),G(!1),Q(r,a)};return e.jsxs("div",{className:"fixed inset-0 z-[90] flex items-center justify-center overflow-hidden no-scrollbar",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/60",onClick:()=>{A||F()}}),e.jsxs("div",{className:"relative z-[95] flex h-full w-full flex-col bg-white shadow-2xl border border-gray-200 rounded-none overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3 sm:px-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-blue-50 text-blue-600",children:e.jsx(W,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Data Charting"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Upload a CSV or Excel file, shape the data, and let AI design an ECharts chart."})]})]}),e.jsx("button",{type:"button",onClick:()=>{A||F()},className:"rounded-full p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:e.jsx(xe,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-1 flex-col gap-3 overflow-y-auto lg:overflow-hidden pb-4 pt-3 sm:pb-6 sm:pt-4",children:e.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 lg:flex-row",children:[e.jsxs("div",{className:N?"flex min-h-0 w-9 flex-none flex-col border-r border-gray-200 bg-gray-50 overflow-hidden":"flex min-h-0 flex-1 w-full flex-col gap-3 border-r border-gray-200 bg-gray-50 p-3 lg:w-1/2 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[!N&&e.jsxs("span",{className:"text-[11px] font-semibold text-gray-600 flex items-center gap-1.5",children:[e.jsx(we,{className:"h-3 w-3 text-gray-500"}),"Setup"]}),e.jsx("button",{type:"button",onClick:()=>H(t=>!t),className:"inline-flex h-6 w-6 items-center justify-center rounded-md border border-gray-300 bg-white text-xs text-gray-600 hover:bg-gray-50",title:N?"Expand sidebar":"Collapse sidebar",children:N?e.jsx(me,{className:"h-3 w-3"}):e.jsx(fe,{className:"h-3 w-3"})})]}),!N&&e.jsxs("div",{className:"flex flex-1 flex-col gap-3 overflow-y-auto pr-1 text-xs",children:[e.jsxs("div",{className:"rounded-md border border-dashed border-gray-300 bg-white p-3",children:[e.jsxs("h3",{className:"mb-1 flex items-center text-xs font-semibold text-gray-800",children:[e.jsx($,{className:"mr-1.5 h-3.5 w-3.5 text-blue-500"}),"Upload Data"]}),e.jsx("p",{className:"mb-2 text-[11px] text-gray-500",children:"Upload a CSV or Excel file. The first row will be treated as the header."}),e.jsxs("button",{type:"button",onClick:ee,className:"inline-flex w-full items-center justify-center rounded-md border border-gray-300 bg-white px-2 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[e.jsx($,{className:"mr-1.5 h-3 w-3"}),"Choose CSV / Excel"]}),e.jsx("input",{ref:D,type:"file",accept:".csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",className:"hidden",onChange:re})]}),e.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3",children:[e.jsxs("h3",{className:"mb-2 flex items-center text-xs font-semibold text-gray-800",children:[e.jsx(pe,{className:"mr-1.5 h-3.5 w-3.5 text-emerald-500"}),"Data Sheet"]}),e.jsx("p",{className:"mb-2 text-[11px] text-gray-500",children:"Edit cells or add rows and columns to adjust your data."}),e.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("button",{type:"button",onClick:()=>G(t=>!t),className:"inline-flex w-full items-center justify-center rounded-md border border-gray-300 bg-white px-2 py-1 text-[11px] font-medium text-gray-700 hover:bg-gray-50",children:"Sample Data"}),K&&e.jsxs("div",{className:"absolute z-10 mt-1 w-full rounded-md border border-gray-200 bg-white text-[11px] shadow-lg",children:[e.jsx("button",{type:"button",onClick:()=>p("pareto"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Pareto chart"}),e.jsx("button",{type:"button",onClick:()=>p("sankey"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Sankey diagram"}),e.jsx("button",{type:"button",onClick:()=>p("boxplot"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Boxplot by category"}),e.jsx("button",{type:"button",onClick:()=>p("timeSeries"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Time-series target vs actual"}),e.jsx("button",{type:"button",onClick:()=>p("stackedBar"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Stacked bar by category"}),e.jsx("button",{type:"button",onClick:()=>p("dualAxis"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Dual-axis revenue and margin"}),e.jsx("button",{type:"button",onClick:()=>p("funnel"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Funnel conversion stages"}),e.jsx("button",{type:"button",onClick:()=>p("normal"),className:"block w-full px-2 py-1 text-left hover:bg-gray-50",children:"Normal distribution"})]})]}),e.jsx("button",{type:"button",onClick:ae,className:"inline-flex flex-1 items-center justify-center rounded-md border border-gray-300 bg-white px-2 py-1 text-[11px] font-medium text-gray-700 hover:bg-gray-50",children:"+ Row"}),e.jsx("button",{type:"button",onClick:se,className:"inline-flex flex-1 items-center justify-center rounded-md border border-gray-300 bg-white px-2 py-1 text-[11px] font-medium text-gray-700 hover:bg-gray-50",children:"+ Column"}),e.jsx("button",{type:"button",onClick:ne,className:"inline-flex flex-1 items-center justify-center rounded-md border border-gray-200 bg-gray-50 px-2 py-1 text-[11px] font-medium text-gray-500 hover:bg-gray-100",children:"Clear"}),e.jsx("button",{type:"button",onClick:oe,className:"inline-flex flex-1 items-center justify-center rounded-md border border-gray-300 bg-white px-2 py-1 text-[11px] font-medium text-gray-700 hover:bg-gray-50",children:"Auto Fit"})]}),e.jsx("div",{className:"max-h-48 overflow-auto rounded border border-gray-200",children:x.length===0?e.jsx("div",{className:"flex items-center justify-center px-3 py-6 text-[11px] text-gray-400",children:"No data yet. Upload a file or add a row to start."}):e.jsxs("table",{className:"min-w-max border-collapse text-[11px] table-fixed",children:[e.jsx("colgroup",{children:(x[0]||[]).map((t,r)=>e.jsx("col",{style:{width:X[r]||120,minWidth:60}},r))}),e.jsx("tbody",{children:x.map((t,r)=>e.jsx("tr",{className:r===0?"bg-gray-50":"",children:t.map((a,n)=>e.jsx("td",{className:"border border-gray-200 px-1 py-0.5",style:{width:X[n]||120,minWidth:60},children:e.jsx("input",{value:a,onChange:o=>le(r,n,o.target.value),className:"w-full border-none bg-transparent p-0 text-[11px] focus:outline-none focus:ring-0"})},`${r}-${n}`))},r))})]})})]}),e.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2",children:[e.jsxs("h3",{className:"flex items-center text-xs font-semibold text-gray-800",children:[e.jsx(je,{className:"mr-1.5 h-3.5 w-3.5 text-indigo-500"}),e.jsx("span",{children:"How should the data be charted?"})]}),e.jsx("a",{href:"https://echarts.apache.org/examples/en/index.html",target:"_blank",rel:"noreferrer",className:"text-[11px] text-indigo-600 hover:text-indigo-700 hover:underline",children:"EChart Library"})]}),e.jsx("p",{className:"mb-2 text-[11px] text-gray-500",children:"Describe which columns are dimensions and metrics, and what chart you expect."}),e.jsx("textarea",{value:T,onChange:t=>L(t.target.value),rows:4,className:"mt-1 block w-full rounded-md border border-gray-300 px-2 py-1 text-xs shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Example: Use the 'Month' column as X axis and plot 'Actual' and 'Target' as two line series."})]}),e.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs("h3",{className:"flex items-center text-xs font-semibold text-gray-800",children:[e.jsx(Ne,{className:"mr-1.5 h-3.5 w-3.5 text-indigo-500"}),e.jsx("span",{children:"Generate with AI"})]}),e.jsxs("span",{className:"rounded-full bg-indigo-50 px-2 py-0.5 text-[10px] font-medium text-indigo-700",children:["Model: ",J]})]}),e.jsx("p",{className:"mb-2 text-[11px] text-gray-500",children:"AI will return an ECharts option and a short interpretation based on your data and instructions."}),_&&e.jsx("p",{className:"mb-2 text-[11px] text-red-600",children:_}),e.jsx("button",{type:"button",onClick:ce,disabled:A,className:"inline-flex w-full items-center justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50",children:A?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"mr-1.5 h-3 w-3 animate-spin"}),"Generating chart..."]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-1.5 h-3 w-3"}),"Generate Chart with AI"]})})]}),U&&e.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-800",children:"ECharts Option (JSON)"}),B&&e.jsx("span",{className:"text-[10px] text-red-600",children:B})]}),e.jsx("p",{className:"mb-2 text-[11px] text-gray-500",children:"Edit this JSON to tweak the chart. Valid changes update the chart immediately."}),e.jsx("textarea",{value:U,onChange:t=>ie(t.target.value),rows:10,spellCheck:!1,className:"mt-1 block w-full rounded-md border border-gray-300 px-2 py-1 text-[11px] font-mono shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})]})]})]}),e.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 overflow-y-auto",children:[e.jsxs("div",{className:"flex-1 rounded-md border border-gray-200 bg-white p-3",children:[e.jsxs("h3",{className:"mb-2 flex items-center text-xs font-semibold text-gray-800",children:[e.jsx(W,{className:"mr-1.5 h-3.5 w-3.5 text-blue-500"}),e.jsx("span",{children:"Chart"})]}),e.jsxs("div",{className:"relative h-64 w-full sm:h-80 lg:h-[420px]",children:[e.jsx("div",{ref:Y,className:"h-full w-full rounded border border-dashed border-gray-200 bg-gray-50"}),!R&&e.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center px-4 text-center text-xs text-gray-400",children:"The chart will appear here after AI generates an ECharts option."})]})]}),e.jsxs("div",{className:"flex flex-1 min-h-[140px] flex-col rounded-md border border-gray-200 bg-white p-3",children:[e.jsxs("h3",{className:"mb-1 flex items-center text-xs font-semibold text-gray-800",children:[e.jsx(be,{className:"mr-1.5 h-3.5 w-3.5 text-indigo-500"}),e.jsx("span",{children:"AI Interpretation"})]}),e.jsx("div",{className:"mt-1 flex-1 overflow-y-auto text-xs text-gray-700",children:z?e.jsx(ye,{content:z}):e.jsx("p",{className:"text-[11px] text-gray-400",children:"After the chart is generated, AI will explain the key patterns and insights here."})})]})]})]})})]})]})};export{Ee as DataChartingModal};
