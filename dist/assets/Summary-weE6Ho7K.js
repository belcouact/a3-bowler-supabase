import{c as x,V as o,Y as m,r,O as e,a3 as h,aj as p}from"./index-CA2hGn6E.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=x("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),g=()=>{const{id:d}=o(),{a3Cases:i}=m(),s=i.find(t=>t.id===d),l=r.useRef(null),[a,n]=r.useState(()=>s&&s.mindMapNodes&&s.mindMapNodes.length>0?"mindmap":"text"),c=()=>{s&&typeof window<"u"&&window.print()};return s?e.jsxs("div",{className:"space-y-6 print-summary-root",ref:l,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"A3 Problem Solving Report"}),e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium flex items-center print:hidden",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Print to PDF"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-2 border-b pb-1",children:"1. Problem Statement"}),e.jsx("div",{className:"text-sm text-gray-600 space-y-2",children:e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Problem:"})," ",s.problemStatement||"Not defined"]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-2 border-b pb-1",children:"2. Data Analysis"}),s.dataAnalysisImages&&s.dataAnalysisImages.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Evidence"}),e.jsx("div",{className:"relative w-full bg-white border-2 border-dashed border-gray-300 rounded-lg overflow-hidden",style:{height:s.dataAnalysisCanvasHeight&&s.dataAnalysisCanvasHeight>0?s.dataAnalysisCanvasHeight:500},children:e.jsx("div",{className:"w-full h-full relative",children:s.dataAnalysisImages.map(t=>e.jsx("div",{style:{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height},children:e.jsx("img",{src:t.src,alt:"evidence",className:"w-full h-full object-contain"})},t.id))})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("span",{className:"font-semibold block mb-1",children:"Observation:"}),s.dataAnalysisObservations||"No data observations recorded."]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 border-b pb-1",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"3. Root Cause Analysis (5 Whys)"}),s.mindMapNodes&&s.mindMapNodes.length>0&&e.jsx("button",{type:"button",onClick:()=>n(a==="text"?"mindmap":"text"),className:"px-2 py-1 rounded-md text-[11px] font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:a==="text"?"Show mindmap snapshot":"Show text summary"})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-4",children:[a==="text"?e.jsx(e.Fragment,{children:s.mindMapText&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[e.jsx("h5",{className:"text-xs font-semibold text-gray-500 mb-1",children:"5 Whys Analysis:"}),e.jsx("p",{className:"whitespace-pre-wrap font-mono text-xs",children:s.mindMapText})]})}):s.mindMapNodes&&s.mindMapNodes.length>0&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[e.jsx("h5",{className:"text-xs font-semibold text-gray-500 mb-2",children:"5 Whys Mindmap Snapshot:"}),e.jsx("div",{className:"pointer-events-none",children:e.jsx(p,{initialNodes:s.mindMapNodes,initialScale:s.mindMapScale,fixedHeight:s.mindMapCanvasHeight})})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Identified Root Cause:"}),s.rootCause?e.jsx("p",{className:"whitespace-pre-wrap",children:s.rootCause}):e.jsx("p",{className:"italic text-gray-500",children:"Root cause not identified yet."})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-2 border-b pb-1",children:"4. Action Plan"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase",children:"Task"}),e.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),e.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase",children:"Owner"}),e.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase",children:"End Date"}),e.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.actionPlanTasks&&s.actionPlanTasks.length>0?s.actionPlanTasks.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-2 py-1 text-xs text-gray-900",children:t.name}),e.jsx("td",{className:"px-2 py-1 text-xs text-gray-500",children:t.description||""}),e.jsx("td",{className:"px-2 py-1 text-xs text-gray-500",children:t.owner}),e.jsx("td",{className:"px-2 py-1 text-xs text-gray-500",children:t.endDate||""}),e.jsx("td",{className:"px-2 py-1 text-xs text-gray-600",children:t.status})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-2 py-4 text-xs text-center text-gray-500",children:"No actions defined."})})})]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-2 border-b pb-1",children:"5. Results & Follow-up"}),s.resultImages&&s.resultImages.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Result Evidence"}),e.jsx("div",{className:"relative w-full bg-white border-2 border-dashed border-gray-300 rounded-lg overflow-hidden",style:{height:s.resultCanvasHeight&&s.resultCanvasHeight>0?s.resultCanvasHeight:500},children:e.jsx("div",{className:"w-full h-full relative",children:s.resultImages.map(t=>e.jsx("div",{style:{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height},children:e.jsx("img",{src:t.src,alt:"result evidence",className:"w-full h-full object-contain"})},t.id))})})]}),e.jsx("div",{className:"text-sm text-gray-600 space-y-2",children:e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Outcome:"})," ",s.results||"No results recorded yet."]})})]})]})]}):e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(h,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("p",{className:"mt-3 text-base font-medium text-gray-700",children:"Loading application data..."})]})})};export{g as default};
