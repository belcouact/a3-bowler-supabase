import{c as T,r as g,a2 as B,ap as G,O as e,P as v,X as A,a6 as j,aU as w,d as N,a7 as I,at as L,aS as R,ay as P,aT as y,ah as E}from"./index-D53RQmFX.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=T("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),H=({isOpen:h,onClose:c,onSave:k,onDelete:b,initialData:t})=>{const[x,p]=g.useState("General"),C=B(),{user:m}=G(),[l,i]=g.useState({name:"",description:"",group:"",champion:"",commitment:"",tag:""}),[r,n]=g.useState([]);if(g.useEffect(()=>{h&&(p("General"),t?(i({name:t.name,description:t.description||"",group:t.group||"",champion:t.champion||"",commitment:t.commitment||"",tag:t.tag||""}),n(t.metrics||[])):(i({name:"",description:"",group:(m==null?void 0:m.plant)||"",champion:"",commitment:"",tag:""}),n([])))},[h,t,m]),!h)return null;const f=()=>{const s={id:E(),name:"",definition:"",owner:"",scope:"",attribute:"",targetMeetingRule:"gte"};n([...r,s])},o=(s,d,a)=>{n(r.map(u=>u.id===s?{...u,[d]:a}:u))},M=s=>{n(r.filter(d=>d.id!==s))},S=()=>{if(!l.name.trim()){C.error("Please provide a name for the Bowler List.");return}k({...l,metrics:r}),c()};return e.jsx("div",{className:"fixed inset-0 z-[150] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity","aria-hidden":"true",onClick:c}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full border border-slate-200",children:e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-blue-200",children:e.jsx(v,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 tracking-tight",children:t?"Refine Metric Bowler":"Design New Bowler"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t?"Configure performance dimensions and strategic metrics.":"Create a new structural framework for performance tracking."})]})]}),e.jsx("button",{onClick:c,className:"rounded-full p-2 text-slate-400 hover:bg-white hover:text-slate-600 transition-all hover:shadow-sm border border-transparent hover:border-slate-200","aria-label":"Close",children:e.jsx(A,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 bg-white border-b border-slate-100",children:e.jsx("nav",{className:"-mb-px flex space-x-1 py-2",children:[{id:"General",label:"Framework",icon:j},{id:"Metrics",label:"Metrics Library",icon:w}].map(s=>e.jsxs("button",{onClick:()=>p(s.id),className:N("flex items-center gap-2 py-2.5 px-4 rounded-lg font-bold text-sm transition-all duration-200",x===s.id?"bg-indigo-50 text-indigo-700 shadow-sm shadow-indigo-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-700"),children:[e.jsx(s.icon,{className:N("w-4 h-4",x===s.id?"text-indigo-600":"text-slate-400")}),s.label]},s.id))})}),e.jsxs("div",{className:"px-6 py-6 min-h-[450px] max-h-[70vh] overflow-y-auto bg-white",children:[x==="General"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsxs("div",{className:"flex items-start gap-4 rounded-xl border border-indigo-100 bg-indigo-50/40 px-4 py-4",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-indigo-50",children:e.jsx(I,{className:"h-5 w-5 text-indigo-500"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-bold text-indigo-900",children:"Strategic Alignment"}),e.jsx("p",{className:"text-xs text-indigo-700 leading-relaxed",children:"Define the structural metadata for this performance dashboard. Groups and tags enable cross-functional consolidation and executive reporting."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4 p-5 rounded-2xl border border-slate-100 bg-slate-50/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-1.5 h-4 bg-indigo-500 rounded-full"}),e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Identification"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 ml-1",children:"Bowler Identity *"}),e.jsx("input",{type:"text",className:"w-full bg-white border border-slate-200 rounded-xl shadow-sm py-2.5 px-4 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium placeholder:text-slate-300",value:l.name,onChange:s=>i({...l,name:s.target.value}),placeholder:"e.g. Operations Excellence 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 ml-1",children:"Strategic Intent"}),e.jsx("textarea",{className:"w-full bg-white border border-slate-200 rounded-xl shadow-sm py-2.5 px-4 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium placeholder:text-slate-300 min-h-[100px] resize-none",value:l.description,onChange:s=>i({...l,description:s.target.value}),placeholder:"Describe the performance scope and objectives..."})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4 p-5 rounded-2xl border border-slate-100 bg-slate-50/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-1.5 h-4 bg-emerald-500 rounded-full"}),e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Ownership & Structure"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 ml-1 flex items-center gap-1.5",children:[e.jsx(L,{className:"w-3.5 h-3.5 text-slate-400"}),"Champion"]}),e.jsx("input",{type:"text",className:"w-full bg-white border border-slate-200 rounded-xl shadow-sm py-2.5 px-4 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium",value:l.champion,onChange:s=>i({...l,champion:s.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 ml-1 flex items-center gap-1.5",children:[e.jsx(R,{className:"w-3.5 h-3.5 text-slate-400"}),"Functional Team"]}),e.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl shadow-sm py-2.5 px-4 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium",value:l.commitment,onChange:s=>i({...l,commitment:s.target.value}),children:[e.jsx("option",{value:"",children:"Assign Team"}),["Quality","Engineering","R&D","Workshop","Production","GBS","Procurement","Planning","EH&S","Facility","Sales & Marketing"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 ml-1 flex items-center gap-1.5",children:[e.jsx(j,{className:"w-3.5 h-3.5 text-slate-400"}),"Group"]}),e.jsx("input",{type:"text",className:"w-full bg-white border border-slate-200 rounded-xl shadow-sm py-2.5 px-4 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium",value:l.group,onChange:s=>i({...l,group:s.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1.5 ml-1 flex items-center gap-1.5",children:[e.jsx(z,{className:"w-3.5 h-3.5 text-slate-400"}),"Tags"]}),e.jsx("input",{type:"text",placeholder:"Comma separated",className:"w-full bg-white border border-slate-200 rounded-xl shadow-sm py-2.5 px-4 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium placeholder:text-slate-300",value:l.tag,onChange:s=>i({...l,tag:s.target.value})})]})]})]})]})})]})]}),x==="Metrics"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between p-4 rounded-xl bg-slate-50 border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(w,{className:"h-5 w-5 text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Performance Metrics"}),e.jsx("p",{className:"text-xs text-slate-500",children:r.length===0?"Begin by adding your first strategic metric":`${r.length} defined metric${r.length>1?"s":""}`})]})]}),e.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-bold rounded-xl shadow-lg shadow-indigo-100 text-white bg-indigo-600 hover:bg-indigo-700 transition-all active:scale-95 gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"New Metric"]})]}),e.jsx("div",{className:"space-y-4",children:r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 border-2 border-dashed border-slate-100 rounded-3xl bg-slate-50/20",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-4",children:e.jsx(v,{className:"w-8 h-8 text-slate-200"})}),e.jsx("p",{className:"text-sm font-medium text-slate-400",children:"No metrics configured yet"}),e.jsx("button",{onClick:f,className:"mt-4 text-sm font-bold text-indigo-600 hover:text-indigo-700 underline underline-offset-4",children:"Click here to add one"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map((s,d)=>e.jsxs("div",{className:"group border border-slate-100 rounded-2xl p-5 bg-white hover:border-indigo-100 hover:shadow-xl hover:shadow-slate-100 transition-all relative",children:[e.jsx("button",{onClick:()=>M(s.id),className:"absolute top-4 right-4 p-2 rounded-lg text-slate-300 hover:text-rose-500 hover:bg-rose-50 opacity-0 group-hover:opacity-100 transition-all",title:"Remove Metric",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-lg bg-slate-900 text-[10px] font-black text-white shadow-lg shadow-slate-200",children:(d+1).toString().padStart(2,"0")}),e.jsx("div",{className:"h-px flex-1 bg-slate-50"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Metric Title"}),e.jsx("input",{type:"text",className:"w-full bg-slate-50/50 border border-slate-100 rounded-xl py-2 px-3 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",value:s.name,onChange:a=>o(s.id,"name",a.target.value),placeholder:"Metric name..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Technical Definition"}),e.jsx("textarea",{className:"w-full bg-slate-50/50 border border-slate-100 rounded-xl py-2 px-3 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all min-h-[80px] resize-none",value:s.definition||"",onChange:a=>o(s.id,"definition",a.target.value),placeholder:"How is this measured?"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Owner"}),e.jsx("input",{type:"text",className:"w-full bg-slate-50/50 border border-slate-100 rounded-xl py-2 px-3 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",value:s.owner||"",onChange:a=>o(s.id,"owner",a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Data Type"}),e.jsxs("select",{className:"w-full bg-slate-50/50 border border-slate-100 rounded-xl py-2 px-3 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",value:s.attribute||"",onChange:a=>o(s.id,"attribute",a.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Accumulative",children:"Accumulative"}),e.jsx("option",{value:"Individual data",children:"Individual data"}),e.jsx("option",{value:"Moving average",children:"Moving average"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Target Logic"}),e.jsxs("select",{className:"w-full bg-slate-50/50 border border-slate-100 rounded-xl py-2 px-3 text-sm font-bold focus:outline-none focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",value:s.targetMeetingRule,onChange:a=>o(s.id,"targetMeetingRule",a.target.value),children:[e.jsx("option",{value:"gte",children:"Higher is better (≥)"}),e.jsx("option",{value:"lte",children:"Lower is better (≤)"}),e.jsx("option",{value:"within_range",children:"Within Range"})]})]})]})]})]},s.id))})})]})]}),e.jsxs("div",{className:"px-6 py-5 bg-slate-50/80 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsx("div",{className:"order-2 sm:order-1",children:t&&b&&e.jsxs("button",{type:"button",className:"px-4 py-2 rounded-xl text-sm font-bold text-rose-600 hover:bg-rose-50 transition-all flex items-center gap-2 group",onClick:()=>b(t.id),children:[e.jsx(y,{className:"w-4 h-4 text-rose-400 group-hover:text-rose-600 transition-colors"}),"Delete Bowler"]})}),e.jsxs("div",{className:"order-1 sm:order-2 flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsx("button",{type:"button",className:"px-6 py-2 rounded-xl text-sm font-bold text-slate-500 hover:bg-white hover:text-slate-700 transition-all border border-transparent hover:border-slate-200",onClick:c,children:"Cancel"}),e.jsx("button",{type:"button",onClick:S,className:"px-8 py-2 rounded-xl text-sm font-bold text-white bg-slate-900 hover:bg-indigo-600 shadow-lg shadow-slate-200 hover:shadow-indigo-100 transition-all active:scale-95",children:t?"Save Framework":"Launch Bowler"})]})]})]})})]})})};export{H as default};
