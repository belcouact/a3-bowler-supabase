import{u as h,e as x,r,j as t}from"./index-D-ja7ykh.js";import{I as v}from"./ImageCanvas-DpcGIfEP.js";const j=()=>{const{id:o}=h(),{a3Cases:d,updateA3Case:l}=x(),e=d.find(s=>s.id===o),a=r.useRef(null),[n,u]=r.useState([]),[i,c]=r.useState(500);r.useEffect(()=>{if(e){e.resultImages&&JSON.stringify(e.resultImages)!==JSON.stringify(n)&&u(e.resultImages||[]),e.resultCanvasHeight&&e.resultCanvasHeight!==i&&c(e.resultCanvasHeight);const s=e.results||"";a.current&&a.current.value!==s&&(a.current.value=s)}},[e==null?void 0:e.id]);const m=s=>{u(s),e&&l({...e,resultImages:s})},g=s=>{c(s),e&&l({...e,resultCanvasHeight:s})},f=()=>{if(e&&a.current){const s=a.current.value;s!==e.results&&l({...e,results:s})}};return e?t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Results & Follow-up"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"Document the results achieved after implementing the action plan."}),t.jsx(v,{images:n,onImagesChange:m,height:i,onHeightChange:g,label:"Result Evidence (Paste or Upload Images)"}),t.jsx("div",{className:"space-y-4 mt-6",children:t.jsxs("div",{children:[t.jsx("label",{htmlFor:"results",className:"block text-sm font-medium text-gray-700 mb-1",children:"Actual Results"}),t.jsx("textarea",{ref:a,id:"results",rows:8,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-3 border",placeholder:"Describe what happened after actions were taken...",defaultValue:e.results||"",onBlur:f})]})})]})}):t.jsx("div",{className:"text-gray-500",children:"Loading case data..."})};export{j as default};
