import{c as me,g as Sr,i as ae,G as Jt,a as st,m as Ar,b as pe,d as fe,R as S,T as Pr,s as ot,f as se,e as $t,L as Me,h as Dr,j as _r,r as D,u as vt,k as bt,l as $r,n as Cr,o as Tr,w as Ct,p as Zt,q as Ue,D as Er,t as Mr,E as Ir,C as zr,A as Lr,v as Ee,x as Fr,y as ut,z as Br,B as Rr,F as Qt,H as Wr,I as Tt,J as Vr,K as Gr,M as Yr,N as Kr,O as n,X as er,P as tr,S as We,Q as Hr,U as Ur,V as rr,W as Et,Y as Mt,Z as qr,_ as Xr,$ as Jr,a0 as Zr,a1 as Qr,a2 as ea,a3 as lt,a4 as ta,a5 as ra,a6 as aa,a7 as na,a8 as ar,a9 as It,aa as ia,ab as sa,ac as oa,ad as la,ae as zt,af as ca,ag as ct,ah as Lt,ai as Ft}from"./index-D3VPfSBn.js";import{C as da}from"./copy-CBwaxago.js";import{A as ua}from"./alert-triangle-BIWmxyci.js";import fa from"./BowlerModal-B-GwxJtk.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=me("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=me("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=me("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function ir(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function ga(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return Sr(r,a)}function ya(e,t,a){var r=a==="width",i=e.x,s=e.y,o=e.width,c=e.height;return t===1?{start:r?i:s,end:r?i+o:s+c}:{start:r?i+o:s+c,end:r?i:s}}function Ve(e,t,a,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=a();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function va(e,t){return ir(e,t+1)}function ba(e,t,a,r,i){for(var s=(r||[]).slice(),o=t.start,c=t.end,u=0,p=1,d=o,x=function(){var m=r==null?void 0:r[u];if(m===void 0)return{v:ir(r,p)};var v=u,b,A=function(){return b===void 0&&(b=a(m,v)),b},O=m.coordinate,N=u===0||Ve(e,O,A,d,c);N||(u=0,d=o,p+=1),N&&(d=O+e*(A()/2+i),u+=p)},f;p<=s.length;)if(f=x(),f)return f.v;return[]}function ze(e){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(e)}function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Vt(Object(a),!0).forEach(function(r){wa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wa(e,t,a){return t=ja(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ja(e){var t=Na(e,"string");return ze(t)=="symbol"?t:t+""}function Na(e,t){if(ze(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(ze(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(e,t,a,r,i){for(var s=(r||[]).slice(),o=s.length,c=t.start,u=t.end,p=function(f){var h=s[f],m,v=function(){return m===void 0&&(m=a(h,f)),m};if(f===o-1){var b=e*(h.coordinate+e*v()/2-u);s[f]=h=U(U({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else s[f]=h=U(U({},h),{},{tickCoord:h.coordinate});var A=Ve(e,h.tickCoord,v,c,u);A&&(u=h.tickCoord-e*(v()/2+i),s[f]=U(U({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)p(d);return s}function Oa(e,t,a,r,i,s){var o=(r||[]).slice(),c=o.length,u=t.start,p=t.end;if(s){var d=r[c-1],x=a(d,c-1),f=e*(d.coordinate+e*x/2-p);o[c-1]=d=U(U({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var h=Ve(e,d.tickCoord,function(){return x},u,p);h&&(p=d.tickCoord-e*(x/2+i),o[c-1]=U(U({},d),{},{isShow:!0}))}for(var m=s?c-1:c,v=function(O){var N=o[O],_,$=function(){return _===void 0&&(_=a(N,O)),_};if(O===0){var z=e*(N.coordinate-e*$()/2-u);o[O]=N=U(U({},N),{},{tickCoord:z<0?N.coordinate-z*e:N.coordinate})}else o[O]=N=U(U({},N),{},{tickCoord:N.coordinate});var V=Ve(e,N.tickCoord,$,u,p);V&&(u=N.tickCoord+e*($()/2+i),o[O]=U(U({},N),{},{isShow:!0}))},b=0;b<m;b++)v(b);return o}function wt(e,t,a){var r=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,c=e.orientation,u=e.interval,p=e.tickFormatter,d=e.unit,x=e.angle;if(!i||!i.length||!r)return[];if(ae(u)||Jt.isSsr)return va(i,typeof u=="number"&&ae(u)?u:0);var f=[],h=c==="top"||c==="bottom"?"width":"height",m=d&&h==="width"?st(d,{fontSize:t,letterSpacing:a}):{width:0,height:0},v=function(N,_){var $=pe(p)?p(N.value,_):N.value;return h==="width"?ga(st($,{fontSize:t,letterSpacing:a}),m,x):st($,{fontSize:t,letterSpacing:a})[h]},b=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,A=ya(s,b,h);return u==="equidistantPreserveStart"?ba(b,A,v,i,o):(u==="preserveStart"||u==="preserveStartEnd"?f=Oa(b,A,v,i,o,u==="preserveStartEnd"):f=ka(b,A,v,i,o),f.filter(function(O){return O.isShow}))}var Sa=["viewBox"],Aa=["viewBox"],Pa=["ticks"];function Pe(e){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(e)}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ae.apply(this,arguments)}function Gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Gt(Object(a),!0).forEach(function(r){jt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dt(e,t){if(e==null)return{};var a=Da(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Da(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function _a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,or(r.key),r)}}function $a(e,t,a){return t&&Yt(e.prototype,t),a&&Yt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ca(e,t,a){return t=Ge(t),Ta(e,sr()?Reflect.construct(t,a||[],Ge(e).constructor):t.apply(e,a))}function Ta(e,t){if(t&&(Pe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sr=function(){return!!e})()}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ge(e)}function Ma(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ft(e,t)}function jt(e,t,a){return t=or(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function or(e){var t=Ia(e,"string");return Pe(t)=="symbol"?t:t+""}function Ia(e,t){if(Pe(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(Pe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ce=function(e){function t(a){var r;return _a(this,t),r=Ca(this,t,[a]),r.state={fontSize:"",letterSpacing:""},r}return Ma(t,e),$a(t,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=dt(r,Sa),c=this.props,u=c.viewBox,p=dt(c,Aa);return!ot(s,u)||!ot(o,p)||!ot(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,c=i.width,u=i.height,p=i.orientation,d=i.tickSize,x=i.mirror,f=i.tickMargin,h,m,v,b,A,O,N=x?-1:1,_=r.tickSize||d,$=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(p){case"top":h=m=r.coordinate,b=o+ +!x*u,v=b-N*_,O=v-N*f,A=$;break;case"left":v=b=r.coordinate,m=s+ +!x*c,h=m-N*_,A=h-N*f,O=$;break;case"right":v=b=r.coordinate,m=s+ +x*c,h=m+N*_,A=h+N*f,O=$;break;default:h=m=r.coordinate,b=o+ +x*u,v=b+N*_,O=v+N*f,A=$;break}return{line:{x1:h,y1:v,x2:m,y2:b},tick:{x:A,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,c=r.height,u=r.orientation,p=r.mirror,d=r.axisLine,x=G(G(G({},se(this.props,!1)),se(d,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var f=+(u==="top"&&!p||u==="bottom"&&p);x=G(G({},x),{},{x1:i,y1:s+f*c,x2:i+o,y2:s+f*c})}else{var h=+(u==="left"&&!p||u==="right"&&p);x=G(G({},x),{},{x1:i+h*o,y1:s,x2:i+h*o,y2:s+c})}return S.createElement("line",Ae({},x,{className:fe("recharts-cartesian-axis-line",$t(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,c=this.props,u=c.tickLine,p=c.stroke,d=c.tick,x=c.tickFormatter,f=c.unit,h=wt(G(G({},this.props),{},{ticks:r}),i,s),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=se(this.props,!1),A=se(d,!1),O=G(G({},b),{},{fill:"none"},se(u,!1)),N=h.map(function(_,$){var z=o.getTickLineCoord(_),V=z.line,Z=z.tick,X=G(G(G(G({textAnchor:m,verticalAnchor:v},b),{},{stroke:"none",fill:p},A),Z),{},{index:$,payload:_,visibleTicksCount:h.length,tickFormatter:x});return S.createElement(Me,Ae({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Dr(o.props,_,$)),u&&S.createElement("line",Ae({},O,V,{className:fe("recharts-cartesian-axis-tick-line",$t(u,"className"))})),d&&t.renderTickItem(d,X,"".concat(pe(x)?x(_.value,$):_.value).concat(f||"")))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,u=i.ticksGenerator,p=i.className,d=i.hide;if(d)return null;var x=this.props,f=x.ticks,h=dt(x,Pa),m=f;return pe(u)&&(m=f&&f.length>0?u(this.props):u(h)),o<=0||c<=0||!m||!m.length?null:S.createElement(Me,{className:fe("recharts-cartesian-axis",p),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),_r.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,c=fe(i.className,"recharts-cartesian-axis-tick-value");return S.isValidElement(r)?o=S.cloneElement(r,G(G({},i),{},{className:c})):pe(r)?o=r(G(G({},i),{},{className:c})):o=S.createElement(Pr,Ae({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(D.Component);jt(Ce,"displayName","CartesianAxis");jt(Ce,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var za=["x1","y1","x2","y2","key"],La=["offset"];function be(e){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(e)}function Kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Kt(Object(a),!0).forEach(function(r){Fa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Fa(e,t,a){return t=Ba(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ba(e){var t=Ra(e,"string");return be(t)=="symbol"?t:t+""}function Ra(e,t){if(be(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(be(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ve.apply(this,arguments)}function Ht(e,t){if(e==null)return{};var a=Wa(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wa(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}var Va=function(t){var a=t.fill;if(!a||a==="none")return null;var r=t.fillOpacity,i=t.x,s=t.y,o=t.width,c=t.height,u=t.ry;return S.createElement("rect",{x:i,y:s,ry:u,width:o,height:c,stroke:"none",fill:a,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lr(e,t){var a;if(S.isValidElement(e))a=S.cloneElement(e,t);else if(pe(e))a=e(t);else{var r=t.x1,i=t.y1,s=t.x2,o=t.y2,c=t.key,u=Ht(t,za),p=se(u,!1);p.offset;var d=Ht(p,La);a=S.createElement("line",ve({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:c}))}return a}function Ga(e){var t=e.x,a=e.width,r=e.horizontal,i=r===void 0?!0:r,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,u){var p=q(q({},e),{},{x1:t,y1:c,x2:t+a,y2:c,key:"line-".concat(u),index:u});return lr(i,p)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ya(e){var t=e.y,a=e.height,r=e.vertical,i=r===void 0?!0:r,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,u){var p=q(q({},e),{},{x1:c,y1:t,x2:c,y2:t+a,key:"line-".concat(u),index:u});return lr(i,p)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ka(e){var t=e.horizontalFill,a=e.fillOpacity,r=e.x,i=e.y,s=e.width,o=e.height,c=e.horizontalPoints,u=e.horizontal,p=u===void 0?!0:u;if(!p||!t||!t.length)return null;var d=c.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==d[0]&&d.unshift(0);var x=d.map(function(f,h){var m=!d[h+1],v=m?i+o-f:d[h+1]-f;if(v<=0)return null;var b=h%t.length;return S.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:v,width:s,stroke:"none",fill:t[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function Ha(e){var t=e.vertical,a=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,c=e.width,u=e.height,p=e.verticalPoints;if(!a||!r||!r.length)return null;var d=p.map(function(f){return Math.round(f+s-s)}).sort(function(f,h){return f-h});s!==d[0]&&d.unshift(0);var x=d.map(function(f,h){var m=!d[h+1],v=m?s+c-f:d[h+1]-f;if(v<=0)return null;var b=h%r.length;return S.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:v,height:u,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var Ua=function(t,a){var r=t.xAxis,i=t.width,s=t.height,o=t.offset;return Zt(wt(q(q(q({},Ce.defaultProps),r),{},{ticks:Ue(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,a)},qa=function(t,a){var r=t.yAxis,i=t.width,s=t.height,o=t.offset;return Zt(wt(q(q(q({},Ce.defaultProps),r),{},{ticks:Ue(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,a)},Oe={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cr(e){var t,a,r,i,s,o,c=vt(),u=bt(),p=$r(),d=q(q({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Oe.stroke,fill:(a=e.fill)!==null&&a!==void 0?a:Oe.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Oe.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Oe.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Oe.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Oe.verticalFill,x:ae(e.x)?e.x:p.left,y:ae(e.y)?e.y:p.top,width:ae(e.width)?e.width:p.width,height:ae(e.height)?e.height:p.height}),x=d.x,f=d.y,h=d.width,m=d.height,v=d.syncWithTicks,b=d.horizontalValues,A=d.verticalValues,O=Cr(),N=Tr();if(!ae(h)||h<=0||!ae(m)||m<=0||!ae(x)||x!==+x||!ae(f)||f!==+f)return null;var _=d.verticalCoordinatesGenerator||Ua,$=d.horizontalCoordinatesGenerator||qa,z=d.horizontalPoints,V=d.verticalPoints;if((!z||!z.length)&&pe($)){var Z=b&&b.length,X=$({yAxis:N?q(q({},N),{},{ticks:Z?b:N.ticks}):void 0,width:c,height:u,offset:p},Z?!0:v);Ct(Array.isArray(X),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(be(X),"]")),Array.isArray(X)&&(z=X)}if((!V||!V.length)&&pe(_)){var te=A&&A.length,Q=_({xAxis:O?q(q({},O),{},{ticks:te?A:O.ticks}):void 0,width:c,height:u,offset:p},te?!0:v);Ct(Array.isArray(Q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(be(Q),"]")),Array.isArray(Q)&&(V=Q)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(Va,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),S.createElement(Ga,ve({},d,{offset:p,horizontalPoints:z,xAxis:O,yAxis:N})),S.createElement(Ya,ve({},d,{offset:p,verticalPoints:V,xAxis:O,yAxis:N})),S.createElement(Ka,ve({},d,{horizontalPoints:z})),S.createElement(Ha,ve({},d,{verticalPoints:V})))}cr.displayName="CartesianGrid";var Xa=["type","layout","connectNulls","ref"],Ja=["key"];function De(e){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(e)}function Ut(e,t){if(e==null)return{};var a=Za(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Za(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ie.apply(this,arguments)}function qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qt(Object(a),!0).forEach(function(r){ne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Se(e){return rn(e)||tn(e)||en(e)||Qa()}function Qa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function en(e,t){if(e){if(typeof e=="string")return ht(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ht(e,t)}}function tn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rn(e){if(Array.isArray(e))return ht(e)}function ht(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ur(r.key),r)}}function nn(e,t,a){return t&&Xt(e.prototype,t),a&&Xt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function sn(e,t,a){return t=Ye(t),on(e,dr()?Reflect.construct(t,a||[],Ye(e).constructor):t.apply(e,a))}function on(e,t){if(t&&(De(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dr=function(){return!!e})()}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ye(e)}function cn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pt(e,t)}function ne(e,t,a){return t=ur(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ur(e){var t=dn(e,"string");return De(t)=="symbol"?t:t+""}function dn(e,t){if(De(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(De(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var he=function(e){function t(){var a;an(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=sn(this,t,[].concat(i)),ne(a,"state",{isAnimationFinished:!0,totalLength:0}),ne(a,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),ne(a,"getStrokeDasharray",function(o,c,u){var p=u.reduce(function(A,O){return A+O});if(!p)return a.generateSimpleStrokeDasharray(c,o);for(var d=Math.floor(o/p),x=o%p,f=c-o,h=[],m=0,v=0;m<u.length;v+=u[m],++m)if(v+u[m]>x){h=[].concat(Se(u.slice(0,m)),[x-v]);break}var b=h.length%2===0?[0,f]:[f];return[].concat(Se(t.repeat(u,d)),Se(h),b).map(function(A){return"".concat(A,"px")}).join(", ")}),ne(a,"id",Wr("recharts-line-")),ne(a,"pathRef",function(o){a.mainCurve=o}),ne(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),ne(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}return cn(t,e),nn(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,c=s.xAxis,u=s.yAxis,p=s.layout,d=s.children,x=Mr(d,Ir);if(!x)return null;var f=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Qt(v.payload,b)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return S.createElement(Me,h,x.map(function(m){return S.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:c,yAxis:u,layout:p,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,p=c.points,d=c.dataKey,x=se(this.props,!1),f=se(u,!0),h=p.map(function(v,b){var A=J(J(J({key:"dot-".concat(b),r:3},x),f),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:p});return t.renderDotItem(u,A)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return S.createElement(Me,Ie({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,i,s,o){var c=this.props,u=c.type,p=c.layout,d=c.connectNulls;c.ref;var x=Ut(c,Xa),f=J(J(J({},se(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:u,layout:p,connectNulls:d});return S.createElement(zr,Ie({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,c=o.points,u=o.strokeDasharray,p=o.isAnimationActive,d=o.animationBegin,x=o.animationDuration,f=o.animationEasing,h=o.animationId,m=o.animateNewValues,v=o.width,b=o.height,A=this.state,O=A.prevPoints,N=A.totalLength;return S.createElement(Lr,{begin:d,duration:x,isActive:p,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var $=_.t;if(O){var z=O.length/c.length,V=c.map(function(H,we){var xe=Math.floor(we*z);if(O[xe]){var ge=O[xe],ce=Ee(ge.x,H.x),Le=Ee(ge.y,H.y);return J(J({},H),{},{x:ce($),y:Le($)})}if(m){var Je=Ee(v*2,H.x),Ze=Ee(b/2,H.y);return J(J({},H),{},{x:Je($),y:Ze($)})}return J(J({},H),{},{x:H.x,y:H.y})});return s.renderCurveStatically(V,r,i)}var Z=Ee(0,N),X=Z($),te;if(u){var Q="".concat(u).split(/[,\s]+/gim).map(function(H){return parseFloat(H)});te=s.getStrokeDasharray(X,N,Q)}else te=s.generateSimpleStrokeDasharray(N,X);return s.renderCurveStatically(c,r,i,{strokeDasharray:te})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,c=s.isAnimationActive,u=this.state,p=u.prevPoints,d=u.totalLength;return c&&o&&o.length&&(!p&&d>0||!Fr(p,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,c=i.points,u=i.className,p=i.xAxis,d=i.yAxis,x=i.top,f=i.left,h=i.width,m=i.height,v=i.isAnimationActive,b=i.id;if(s||!c||!c.length)return null;var A=this.state.isAnimationFinished,O=c.length===1,N=fe("recharts-line",u),_=p&&p.allowDataOverflow,$=d&&d.allowDataOverflow,z=_||$,V=ut(b)?this.id:b,Z=(r=se(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},X=Z.r,te=X===void 0?3:X,Q=Z.strokeWidth,H=Q===void 0?2:Q,we=Br(o)?o:{},xe=we.clipDot,ge=xe===void 0?!0:xe,ce=te*2+H;return S.createElement(Me,{className:N},_||$?S.createElement("defs",null,S.createElement("clipPath",{id:"clipPath-".concat(V)},S.createElement("rect",{x:_?f:f-h/2,y:$?x:x-m/2,width:_?h:h*2,height:$?m:m*2})),!ge&&S.createElement("clipPath",{id:"clipPath-dots-".concat(V)},S.createElement("rect",{x:f-ce/2,y:x-ce/2,width:h+ce,height:m+ce}))):null,!O&&this.renderCurve(z,V),this.renderErrorBar(z,V),(O||o)&&this.renderDots(z,ge,V),(!v||A)&&Rr.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Se(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(Se(o),Se(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(S.isValidElement(r))s=S.cloneElement(r,i);else if(pe(r))s=r(i);else{var o=i.key,c=Ut(i,Ja),u=fe("recharts-line-dot",typeof r!="boolean"?r.className:"");s=S.createElement(Er,Ie({key:o},c,{className:u}))}return s}}])}(D.PureComponent);ne(he,"displayName","Line");ne(he,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Jt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ne(he,"getComposedData",function(e){var t=e.props,a=e.xAxis,r=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,c=e.bandSize,u=e.displayedData,p=e.offset,d=t.layout,x=u.map(function(f,h){var m=Qt(f,o);return d==="horizontal"?{x:Tt({axis:a,ticks:i,bandSize:c,entry:f,index:h}),y:ut(m)?null:r.scale(m),value:m,payload:f}:{x:ut(m)?null:a.scale(m),y:Tt({axis:r,ticks:s,bandSize:c,entry:f,index:h}),value:m,payload:f}});return J({points:x,layout:d},p)});function _e(e){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(e)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pr(r.key),r)}}function hn(e,t,a){return t&&fn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pn(e,t,a){return t=Ke(t),mn(e,fr()?Reflect.construct(t,a||[],Ke(e).constructor):t.apply(e,a))}function mn(e,t){if(t&&(_e(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xn(e)}function xn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fr=function(){return!!e})()}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ke(e)}function gn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}function mt(e,t){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mt(e,t)}function hr(e,t,a){return t=pr(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pr(e){var t=yn(e,"string");return _e(t)=="symbol"?t:t+""}function yn(e,t){if(_e(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(_e(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xt.apply(this,arguments)}function vn(e){var t=e.xAxisId,a=vt(),r=bt(),i=Vr(t);return i==null?null:D.createElement(Ce,xt({},i,{className:fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:r},ticksGenerator:function(o){return Ue(o,!0)}}))}var qe=function(e){function t(){return un(this,t),pn(this,t,arguments)}return gn(t,e),hn(t,[{key:"render",value:function(){return D.createElement(vn,this.props)}}])}(D.Component);hr(qe,"displayName","XAxis");hr(qe,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $e(e){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(e)}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gr(r.key),r)}}function jn(e,t,a){return t&&wn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nn(e,t,a){return t=He(t),kn(e,mr()?Reflect.construct(t,a||[],He(e).constructor):t.apply(e,a))}function kn(e,t){if(t&&($e(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return On(e)}function On(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mr=function(){return!!e})()}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},He(e)}function Sn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}function gt(e,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gt(e,t)}function xr(e,t,a){return t=gr(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gr(e){var t=An(e,"string");return $e(t)=="symbol"?t:t+""}function An(e,t){if($e(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if($e(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},yt.apply(this,arguments)}var Pn=function(t){var a=t.yAxisId,r=vt(),i=bt(),s=Gr(a);return s==null?null:D.createElement(Ce,yt({},s,{className:fe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return Ue(c,!0)}}))},Xe=function(e){function t(){return bn(this,t),Nn(this,t,arguments)}return Sn(t,e),jn(t,[{key:"render",value:function(){return D.createElement(Pn,this.props)}}])}(D.Component);xr(Xe,"displayName","YAxis");xr(Xe,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var Dn=Yr({chartName:"LineChart",GraphicalChild:he,axisComponents:[{axisType:"xAxis",AxisComp:qe},{axisType:"yAxis",AxisComp:Xe}],formatAxisMap:Kr});const _n=({isOpen:e,onClose:t})=>e?n.jsx("div",{className:"fixed inset-0 z-[70] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity","aria-hidden":"true",onClick:t}),n.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full border border-slate-100",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-6",children:[n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("button",{onClick:t,className:"rounded-full p-1 text-white/70 hover:bg-white/20 hover:text-white transition-all",children:n.jsx(er,{className:"w-5 h-5"})})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-md shadow-inner ring-1 ring-white/30",children:n.jsx(nr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Metric Bowler User Guide"}),n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Quick reference for managing your metrics"})]})]})]}),n.jsx("div",{className:"px-6 py-6 sm:px-8 bg-white max-h-[70vh] overflow-y-auto",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"group flex gap-4",children:[n.jsx("div",{className:"h-10 w-10 shrink-0 rounded-lg bg-blue-50 border border-blue-100 flex items-center justify-center shadow-sm text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-all duration-300",children:n.jsx(pa,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-1",children:"Editing Data"}),n.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:"Left click on any Target or Actual cell to edit its value. Right click to add a context note. Cells with notes are marked with a red triangle."})]})]}),n.jsxs("div",{className:"group flex gap-4",children:[n.jsx("div",{className:"h-10 w-10 shrink-0 rounded-lg bg-emerald-50 border border-emerald-100 flex items-center justify-center shadow-sm text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white transition-all duration-300",children:n.jsx(tr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-1",children:"Target Rules"}),n.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed",children:["Set rules in the Edit Metric window: ",">="," Target (default), ","<="," Target, or Within Range (e.g. {5,10}). Actual values violating the rule will be highlighted in red."]})]})]}),n.jsxs("div",{className:"group flex gap-4",children:[n.jsx("div",{className:"h-10 w-10 shrink-0 rounded-lg bg-amber-50 border border-amber-100 flex items-center justify-center shadow-sm text-amber-600 group-hover:bg-amber-600 group-hover:text-white transition-all duration-300",children:n.jsx(ma,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-1",children:"Bowler Info & Status Rules"}),n.jsx("p",{className:"text-sm text-slate-600 mb-3 leading-relaxed",children:"Double-click on the Bowler Name or Description in the header to edit the Bowler information."}),n.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2",children:"Status Indicators"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-center text-xs text-slate-600",children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 shadow-sm ring-1 ring-green-200"}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-slate-900",children:"Green:"})," All metrics met targets in latest month."]})]}),n.jsxs("li",{className:"flex items-center text-xs text-slate-600",children:[n.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2 shadow-sm ring-1 ring-red-200"}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-slate-900",children:"Red:"})," Any metric failed for 3 consecutive months."]})]}),n.jsxs("li",{className:"flex items-center text-xs text-slate-600",children:[n.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-2 shadow-sm ring-1 ring-yellow-200"}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-slate-900",children:"Yellow:"})," Any metric missed target recently."]})]})]})]})]})]}),n.jsxs("div",{className:"group flex gap-4",children:[n.jsx("div",{className:"h-10 w-10 shrink-0 rounded-lg bg-purple-50 border border-purple-100 flex items-center justify-center shadow-sm text-purple-600 group-hover:bg-purple-600 group-hover:text-white transition-all duration-300",children:n.jsx(We,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-1",children:"AI Analysis"}),n.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:"Click the Sparkles icon on any chart to get an AI-powered analysis of the metric's performance trend."})]})]})]})}),n.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-end rounded-b-2xl",children:n.jsx("button",{type:"button",className:"px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors shadow-sm",onClick:t,children:"Close Guide"})})]})]})}):null,$n=({isOpen:e,onClose:t,result:a,metricName:r})=>{const[i,s]=D.useState(!1),[o,c]=D.useState(!1);D.useEffect(()=>{if(e)s(!0),document.body.style.overflow="hidden";else{const h=setTimeout(()=>s(!1),300);return document.body.style.overflow="unset",()=>clearTimeout(h)}return()=>{document.body.style.overflow="unset"}},[e]);const u=()=>{a!=null&&a.summary&&(navigator.clipboard.writeText(a.summary),c(!0),setTimeout(()=>c(!1),2e3))};if(!i&&!e)return null;const p=()=>{switch(a==null?void 0:a.trend){case"capable":return n.jsx(ha,{className:"w-5 h-5 text-emerald-600"});case"improving":return n.jsx(Mt,{className:"w-5 h-5 text-emerald-600"});case"degrading":return n.jsx(Wt,{className:"w-5 h-5 text-rose-600"});case"stable":return n.jsx(Bt,{className:"w-5 h-5 text-blue-600"});case"unstable":return n.jsx(Et,{className:"w-5 h-5 text-amber-600"});case"incapable":return n.jsx(qr,{className:"w-5 h-5 text-rose-600"});case"increasing":return n.jsx(Mt,{className:"w-5 h-5 text-emerald-600"});case"decreasing":return n.jsx(Wt,{className:"w-5 h-5 text-rose-600"});case"fluctuating":return n.jsx(Et,{className:"w-5 h-5 text-amber-600"});default:return n.jsx(Bt,{className:"w-5 h-5 text-slate-400"})}},d=()=>a!=null&&a.trend?a.trend.charAt(0).toUpperCase()+a.trend.slice(1):"Unknown",x=()=>{switch(a==null?void 0:a.trend){case"capable":case"improving":case"increasing":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"degrading":case"decreasing":case"incapable":return"bg-rose-50 text-rose-700 border-rose-100";case"unstable":case"fluctuating":return"bg-amber-50 text-amber-700 border-amber-100";default:return"bg-slate-50 text-slate-700 border-slate-100"}},f=n.jsx("div",{className:"fixed inset-0 z-[100] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",children:[n.jsx("div",{className:`fixed inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300 ease-out ${e?"opacity-100":"opacity-0"}`,"aria-hidden":"true",onClick:t}),n.jsxs("div",{className:`relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:w-full sm:max-w-2xl
            ${e?"translate-y-0 opacity-100 scale-100":"translate-y-4 opacity-0 scale-95"}`,children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 opacity-10"}),n.jsxs("button",{type:"button",className:"absolute top-4 right-4 z-10 rounded-full p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:t,children:[n.jsx("span",{className:"sr-only",children:"Close"}),n.jsx(er,{className:"h-5 w-5","aria-hidden":"true"})]}),n.jsxs("div",{className:"relative px-5 pt-6 pb-5 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-lg shadow-indigo-200",children:n.jsx(We,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 tracking-tight",id:"modal-title",children:"AI Performance Analysis"}),n.jsxs("p",{className:"text-xs font-medium text-slate-500",children:["Analyzing ",n.jsx("span",{className:"text-indigo-600 font-semibold",children:r})]})]})]}),a?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-slate-50 border border-slate-100 p-3.5 shadow-sm group hover:shadow-md transition-all duration-300",children:[n.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),n.jsxs("div",{className:"flex items-start gap-2.5",children:[n.jsx("div",{className:"mt-0.5 p-1 bg-indigo-100 rounded-md text-indigo-600 shrink-0",children:n.jsx(Hr,{className:"h-3.5 w-3.5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsx("h4",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:"Executive Summary"}),n.jsx("button",{onClick:u,className:"text-slate-400 hover:text-indigo-600 transition-colors p-1 rounded hover:bg-indigo-50 opacity-0 group-hover:opacity-100 focus:opacity-100 focus:outline-none",title:"Copy summary",children:o?n.jsx(Ur,{className:"w-3 h-3 text-emerald-500"}):n.jsx(da,{className:"w-3 h-3"})})]}),n.jsx("p",{className:"text-xs text-slate-600 leading-relaxed text-pretty",children:a.summary})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:`rounded-xl border p-3 flex flex-col items-center justify-center text-center transition-all hover:shadow-md ${x()}`,children:[n.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70 mb-1",children:"Current Trend"}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[p(),n.jsx("span",{className:"text-sm font-bold",children:d()})]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 flex flex-col items-center justify-center text-center shadow-sm hover:shadow-md transition-all",children:[n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Target Achievement"}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(tr,{className:`w-4 h-4 ${a.achievementRate>=80?"text-emerald-500":a.achievementRate>=50?"text-amber-500":"text-rose-500"}`}),n.jsxs("span",{className:`text-sm font-bold ${a.achievementRate>=80?"text-emerald-600":a.achievementRate>=50?"text-amber-600":"text-rose-600"}`,children:[a.achievementRate.toFixed(1),"%"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-xs font-bold text-slate-900 mb-2 flex items-center gap-2",children:[n.jsx("div",{className:"h-5 w-5 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center",children:n.jsx(ua,{className:"w-3 h-3"})}),"Strategic Recommendations"]}),a.suggestion.length>0?n.jsx("div",{className:"rounded-xl border border-amber-100 bg-amber-50/50 p-3",children:n.jsx("ul",{className:"space-y-2",children:a.suggestion.map((h,m)=>n.jsxs("li",{className:"flex items-start gap-2.5 text-xs text-slate-700",children:[n.jsx("span",{className:"mt-1.5 h-1 w-1 shrink-0 rounded-full bg-amber-500"}),n.jsx("span",{className:"leading-relaxed",children:h})]},m))})}):n.jsx("p",{className:"text-sm text-slate-500 italic px-4",children:"No specific suggestions detected at this time."})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-100 border-t-indigo-600"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(We,{className:"w-6 h-6 text-indigo-600 animate-pulse"})})]}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2 animate-pulse",children:"Analyzing Metric Performance..."}),n.jsx("p",{className:"text-sm text-slate-500 max-w-xs text-center leading-relaxed",children:"Our AI is identifying trends, calculating achievements, and generating strategic insights for you."})]}),n.jsx("div",{className:"mt-8 flex justify-end",children:n.jsx("button",{type:"button",className:"rounded-xl bg-slate-100 px-5 py-2.5 text-sm font-semibold text-slate-700 hover:bg-slate-200 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 transition-all active:scale-95",onClick:t,children:"Close Analysis"})})]})]})]})});return rr.createPortal(f,document.body)},Cn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Tn=e=>{const{cx:t,cy:a,payload:r}=e;return t===void 0||a===void 0||isNaN(t)||isNaN(a)||r.actual===null||r.actual===void 0?null:ar(r.rule,r.rawTarget,r.rawActual)?n.jsx("circle",{cx:t,cy:a,r:5,fill:"#dc2626",stroke:"#fff",strokeWidth:2}):n.jsx("circle",{cx:t,cy:a,r:3,fill:"#3b82f6",strokeWidth:0})},Ln=()=>{const{id:e}=Xr(),t=Jr(),{bowlers:a,updateBowler:r,selectedModel:i,a3Cases:s,addA3Case:o}=Zr(),c=Qr(),[u,p]=D.useState(!1),[d,x]=D.useState(null),[f,h]=D.useState(()=>`${new Date().getFullYear()}-04`),[m,v]=D.useState(()=>{const j=new Date().getFullYear(),g=3,w=new Date(j,g+11,1);return`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}`}),[b,A]=D.useState(!1),[O,N]=D.useState({}),[_,$]=D.useState({}),[z,V]=D.useState(!0),[Z,X]=D.useState(!1),[te,Q]=D.useState(""),[H,we]=D.useState(""),[xe,ge]=D.useState(null),[ce,Le]=D.useState(!1),[Je,Ze]=D.useState(""),[Qe,Nt]=D.useState({}),[et,kt]=D.useState({}),[Fe,Ot]=D.useState(null);D.useEffect(()=>{!e&&a.length>0&&t(`/metric-bowler/${a[0].id}`,{replace:!0})},[e,a,t]);const de=D.useMemo(()=>{const[l,j]=f.split("-"),g=parseInt(l,10),w=parseInt(j,10)-1,[P,M]=m.split("-"),F=parseInt(P,10),y=parseInt(M,10)-1,k=(F-g)*12+(y-w)+1,L=[];if(k>0)for(let I=0;I<k;I++){const R=new Date(g,w+I,1),T=R.getMonth(),C=R.getFullYear(),Y=Cn[T],K=`${C}-${String(T+1).padStart(2,"0")}`,W=`${C}/${Y}`;L.push({key:K,label:W})}return L},[f,m]),E=a.find(l=>l.id===e),yr=E?E.name:"Metric Bowler",ie=(E==null?void 0:E.metrics)||[];D.useEffect(()=>{if(E!=null&&E.metricStartDate){h(E.metricStartDate);const[l,j]=E.metricStartDate.split("-"),g=parseInt(l,10),w=parseInt(j,10)-1;if(!isNaN(g)&&!isNaN(w)){const P=new Date(g,w+11,1);v(`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}`)}}},[E==null?void 0:E.metricStartDate]);const vr=l=>{h(l),E&&r({...E,metricStartDate:l})},tt=()=>{E&&r({...E,name:te,description:H,metricStartDate:f}),X(!1)},br=async l=>{Nt(j=>({...j,[l.id]:!0}));try{const j=s.filter(w=>(w.linkedMetricIds||[]).includes(l.id)),g=await zt(l,i,j);ge(g),Ze(l.name),Le(!0)}catch(j){console.error("Analysis failed",j)}finally{Nt(j=>({...j,[l.id]:!1}))}},wr=async l=>{if(!et[l.id]){kt(j=>({...j,[l.id]:!0}));try{const j=s.filter(B=>(B.linkedMetricIds||[]).includes(l.id)),g=await zt(l,i,j),w=await ca(l,i),P=ct(new Date),M=g.trend.charAt(0).toUpperCase()+g.trend.slice(1);let F="Medium";const y=g.trend.toLowerCase();y==="degrading"||y==="unstable"||y==="incapable"||g.achievementRate<50?F="High":g.achievementRate>=80&&(y==="capable"||y==="improving"||y==="stable")&&(F="Low");const k=a.find(B=>(B.metrics||[]).some(je=>je.id===l.id)),L=l.owner||(k==null?void 0:k.champion)||"",I=(k==null?void 0:k.group)||"",R=(k==null?void 0:k.tag)||"",T=typeof g.achievementRate=="number"?`${g.achievementRate.toFixed(1)}%`:"",C=[];g.summary&&C.push(g.summary.trim()),T&&C.push(`Current target achievement: ${T}.`);const Y=C.join(`

`),K=w.rootCauses.length?`Most likely root causes:
- ${w.rootCauses.join(`
- `)}`:"",W=[],re="root",ue=w.problemStatement&&w.problemStatement.trim().length>0?w.problemStatement.trim():`Improve performance of metric "${l.name}".`;W.push({id:re,text:ue,x:50,y:220,parentId:null,type:"root"});const oe=(B,je,Re,at)=>{const le=B.find(ee=>ee.id===Re);if(!le)return;const ye=je.filter(ee=>ee&&typeof ee.cause=="string"&&ee.cause.trim().length>0),Ne=ye.length;ye.forEach((ee,nt)=>{const ke=Lt(),it=Ne>1?nt-(Ne-1)/2:0,kr=le.x+220,Or=le.y+it*120;W.push({id:ke,text:ee.cause.trim(),x:kr,y:Or,parentId:Re,type:"child"}),ee.children&&ee.children.length>0&&oe(B,ee.children,ke,at+1)})};w.whyTree&&w.whyTree.length>0&&oe(W,w.whyTree,re,1);const Te=[],Be=new Date;(Array.isArray(w.actions)&&w.actions.length>0?w.actions:[]).forEach((B,je)=>{const Re=B.name||`Action ${je+1}`,at=B.description||"",Dt=B.owner||L,_t=B.group||void 0;let le,ye;if(B.startDate&&!Number.isNaN(Date.parse(B.startDate))&&(le=B.startDate),B.endDate&&!Number.isNaN(Date.parse(B.endDate))&&(ye=B.endDate),!le){const ke=Ft(Be,je*7);le=ct(ke)}if(!ye){const ke=new Date(le),it=Ft(ke,7);ye=ct(it)}const Ne=B.status,ee=Ne==="In Progress"||Ne==="Completed"?Ne:"Not Started",nt=typeof B.progress=="number"&&isFinite(B.progress)&&B.progress>=0&&B.progress<=100?B.progress:0;Te.push({id:Lt(),name:Re,description:at,owner:Dt,group:_t,startDate:le,endDate:ye,status:ee,progress:nt})});const Nr=o({title:`A3: ${l.name} â€“ ${M}`,description:Y,owner:L,group:I,tag:R,linkedMetricIds:[l.id],priority:F,startDate:P,endDate:"",status:"In Progress",problemStatement:w.problemStatement||ue,results:"",mindMapNodes:W,mindMapText:"",rootCause:K,actionPlanTasks:Te,dataAnalysisObservations:"",dataAnalysisImages:[],dataAnalysisCanvasHeight:void 0,resultImages:[],resultCanvasHeight:void 0});c.success("Created new A3 case from AI insight."),t(`/a3-analysis/${Nr.id}`)}catch(j){console.error("Failed to create A3 from AI",j),c.error("Failed to create A3 from AI. Please try again.")}finally{kt(j=>({...j,[l.id]:!1}))}}},St=(l,j,g,w)=>{var F,y,k,L,I,R;if(!E)return;const P=ie.find(T=>T.id===l);if(P&&g==="target"&&P.targetMeetingRule==="within_range"){const T=w.match(/^(?:\{|\[)?\s*(-?[\d.]+)\s*,\s*(-?[\d.]+)\s*(?:\}|\])?$/);if(!T){c.error("Invalid format: Target must be {min, max} (e.g., {5, 10})");const K=`cell-${l}-${j}-target`,W=document.getElementById(K);W&&(W.value=((y=(F=P.monthlyData)==null?void 0:F[j])==null?void 0:y.target)||"");return}const C=parseFloat(T[1]),Y=parseFloat(T[2]);if(isNaN(C)||isNaN(Y)){c.error("Invalid numbers: Target must contain valid numbers");const K=`cell-${l}-${j}-target`,W=document.getElementById(K);W&&(W.value=((L=(k=P.monthlyData)==null?void 0:k[j])==null?void 0:L.target)||"");return}if(C>=Y){c.error("Invalid range: Min value must be strictly smaller than Max value");const K=`cell-${l}-${j}-target`,W=document.getElementById(K);W&&(W.value=((R=(I=P.monthlyData)==null?void 0:I[j])==null?void 0:R.target)||"");return}}const M=ie.map(T=>{if(T.id!==l)return T;const C=T.monthlyData||{},Y=C[j]||{target:"",actual:""};return Y[g]===w?T:{...T,monthlyData:{...C,[j]:{...Y,[g]:w}}}});JSON.stringify(M)!==JSON.stringify(ie)&&r({...E,metrics:M})},jr=(l,j,g,w)=>{if(!E)return;const P=ie.map(M=>{if(M.id!==l)return M;const F=M.monthlyData||{},y=F[j]||{target:"",actual:""};return{...M,monthlyData:{...F,[j]:{...y,[g]:w}}}});r({...E,metrics:P})},At=(l,j,g,w,P)=>{l.preventDefault();const M=prompt("Enter note for this cell:",P);M!==null&&jr(j,g,w==="target"?"targetNote":"actualNote",M)},Pt=(l,j,g,w)=>{if(l.key==="ArrowUp"||l.key==="ArrowDown"||l.key==="ArrowLeft"||l.key==="ArrowRight"){l.preventDefault();let P=g,M=j,F=w;l.key==="ArrowUp"?j==="actual"?M="target":(M="actual",P=Math.max(0,g-1)):l.key==="ArrowDown"?j==="target"?M="actual":(M="target",P=Math.min(ie.length-1,g+1)):l.key==="ArrowLeft"?F=Math.max(0,w-1):l.key==="ArrowRight"&&(F=Math.min(de.length-1,w+1));const y=ie[P],k=de[F],L=`cell-${y.id}-${k.key}-${M}`,I=document.getElementById(L);I&&(I.focus(),I.select())}else l.key==="Enter"&&l.target.blur()};return!e&&a.length>0?n.jsx(ea,{to:`/metric-bowler/${a[0].id}`,replace:!0}):n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"bg-white border-b border-slate-100 overflow-hidden",children:n.jsx("div",{className:"px-4 py-6 md:p-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4 md:gap-5",children:[n.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-2xl bg-brand-600 flex items-center justify-center text-white shadow-xl shadow-brand-100 shrink-0",children:n.jsx(lt,{className:"w-6 h-6 md:w-7 md:h-7"})}),n.jsx("div",{onDoubleClick:()=>{E&&(Q(E.name),we(E.description||""),X(!0))},className:"flex-1 min-w-0",children:Z?n.jsxs("div",{className:"flex flex-col space-y-2 w-full max-w-xl",onBlur:l=>{l.currentTarget.contains(l.relatedTarget)||tt()},children:[n.jsx("input",{type:"text",value:te,onChange:l=>Q(l.target.value),onKeyDown:l=>l.key==="Enter"&&tt(),className:"text-xl md:text-3xl font-bold text-slate-900 bg-slate-50 border-b-2 border-brand-500 focus:outline-none w-full px-1 py-0.5",autoFocus:!0}),n.jsx("input",{type:"text",value:H,onChange:l=>we(l.target.value),onKeyDown:l=>l.key==="Enter"&&tt(),className:"text-sm text-slate-500 bg-transparent border-none focus:outline-none w-full px-1",placeholder:"Add description..."})]}):n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl md:text-4xl font-black text-slate-900 font-display tracking-tight leading-tight group flex items-center gap-3 truncate",children:[yr,n.jsx("button",{onClick:()=>{E&&(x(E),p(!0))},className:"p-1.5 rounded-lg bg-slate-50 text-slate-400 opacity-0 group-hover:opacity-100 transition-all hover:bg-indigo-50 hover:text-indigo-600 hover:shadow-sm border border-transparent hover:border-indigo-100",title:"Edit Bowler",children:n.jsx(ta,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"mt-2 flex flex-wrap items-center gap-4",children:(E==null?void 0:E.champion)&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400",children:"Owner"}),n.jsx("span",{className:"text-xs font-bold text-slate-700 px-2 py-0.5 bg-slate-100 rounded",children:E.champion})]})})]})})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 md:gap-5",children:[n.jsxs("div",{className:"flex items-center bg-slate-100/50 rounded-xl p-1.5 border border-slate-200/60 shadow-inner w-full sm:w-auto justify-between sm:justify-start",children:[n.jsxs("div",{className:"flex items-center gap-2.5 px-3 py-1.5 bg-white rounded-lg shadow-sm border border-slate-200/50 flex-1 sm:flex-none",children:[n.jsx(ra,{className:"w-4 h-4 text-brand-500"}),n.jsx("input",{type:"month",value:f,onChange:l=>vr(l.target.value),className:"bg-transparent border-none text-sm font-black text-slate-800 focus:ring-0 cursor-pointer p-0 font-display w-full sm:w-auto"})]}),n.jsx("div",{className:"w-px h-5 bg-slate-300 mx-1 hidden sm:block"}),n.jsx("div",{className:"flex items-center gap-2.5 px-3 py-1.5 bg-white rounded-lg shadow-sm border border-slate-200/50 flex-1 sm:flex-none opacity-60",children:n.jsx("input",{type:"month",value:m,disabled:!0,className:"bg-transparent border-none text-sm font-black text-slate-800 focus:ring-0 cursor-not-allowed p-0 font-display w-full sm:w-auto"})})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[n.jsx("button",{onClick:()=>V(!z),className:"w-11 h-11 flex items-center justify-center rounded-xl border border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-brand-600 hover:border-brand-200 transition-all active:scale-95 bg-white shadow-sm",title:z?"Switch to Large View":"Switch to Compact View",children:z?n.jsx(xa,{className:"w-5 h-5"}):n.jsx(aa,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>A(!0),className:"w-11 h-11 flex items-center justify-center rounded-xl border border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-brand-600 hover:border-brand-200 transition-all active:scale-95 bg-white shadow-sm",title:"How to use",children:n.jsx(nr,{className:"w-5 h-5"})})]})]})]})})}),n.jsx("div",{className:"bg-[#f8fafc] px-3 py-6 md:px-8 md:py-10 lg:px-10",children:n.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-10 md:space-y-16",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200/60 overflow-hidden transition-all duration-300 hover:shadow-md",children:n.jsx("div",{className:"overflow-x-auto overflow-y-hidden custom-scrollbar",children:n.jsxs("table",{className:"min-w-full divide-y divide-slate-100 table-auto border-collapse",children:[n.jsx("thead",{className:"bg-slate-50/50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-4 md:px-6 py-5 text-left text-[11px] font-bold text-slate-400 uppercase tracking-[0.1em] sticky left-0 bg-slate-50/95 z-20 border-r border-slate-200/60 w-48 md:w-64 font-display",children:"Metric Name"}),n.jsx("th",{scope:"col",className:"hidden sm:table-cell px-3 py-5 text-left text-[11px] font-bold text-slate-400 uppercase tracking-[0.1em] w-28 border-r border-slate-200/60 font-display",children:"Scope"}),n.jsx("th",{scope:"col",className:"hidden md:table-cell px-3 py-5 text-left text-[11px] font-bold text-slate-400 uppercase tracking-[0.1em] w-24 border-r border-slate-200/60 font-display",children:"Type"}),de.map(l=>n.jsx("th",{scope:"col",className:"px-2 py-5 text-center text-[11px] font-bold text-slate-400 uppercase tracking-[0.1em] whitespace-normal break-words min-w-[4rem] border-r border-slate-200/60 font-display",children:l.label.replace("/"," ")},l.key))]})}),n.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:ie.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:3+de.length,className:"px-6 py-10 text-center text-slate-400 italic font-medium",children:"No metrics added yet. Use the + button to add metrics."})}):ie.map((l,j)=>n.jsxs(D.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-slate-50/40 transition-colors border-b-0 group/row",children:[n.jsx("td",{rowSpan:2,className:"px-4 md:px-6 py-6 text-sm font-semibold text-slate-800 sticky left-0 bg-white z-10 group-hover/row:bg-slate-50/40 border-r border-slate-200/60 shadow-[4px_0_12px_-4px_rgba(0,0,0,0.05)] align-top break-words transition-colors",children:n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[n.jsx("span",{className:"font-display tracking-tight text-sm md:text-base leading-tight truncate",children:l.name}),n.jsx("div",{className:"inline-flex items-center justify-center shrink-0",onMouseEnter:g=>{const w=g.currentTarget.getBoundingClientRect();Ot({x:w.right+8,y:w.top,content:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-[10px] uppercase tracking-wider text-slate-400 mb-1",children:"Definition"}),n.jsx("p",{className:"text-sm text-white leading-relaxed",children:l.definition||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-[10px] uppercase tracking-wider text-slate-400 mb-1",children:"Owner"}),n.jsx("p",{className:"text-sm text-white",children:l.owner||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-[10px] uppercase tracking-wider text-slate-400 mb-1",children:"Attribute"}),n.jsx("p",{className:"text-sm text-white",children:l.attribute||"N/A"})]})]})]})})},onMouseLeave:()=>Ot(null),children:n.jsx(na,{className:"w-3.5 h-3.5 text-slate-300 hover:text-brand-500 cursor-help transition-colors"})})]}),l.owner&&n.jsxs("div",{className:"mt-1 flex items-center gap-1.5 opacity-60",children:[n.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-400"}),n.jsx("span",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:l.owner})]})]})})}),n.jsx("td",{rowSpan:2,className:"hidden sm:table-cell px-3 py-6 align-top border-r border-slate-200/60 group-hover/row:bg-slate-50/40 transition-colors",children:n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold bg-slate-100 text-slate-600 border border-slate-200/50 uppercase tracking-wide",children:l.scope||"N/A"})}),n.jsx("td",{rowSpan:2,className:"hidden md:table-cell px-3 py-6 align-top border-r border-slate-200/60 group-hover/row:bg-slate-50/40 transition-colors",children:n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:l.attribute||"N/A"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-[11px] font-bold text-slate-400 uppercase tracking-wider bg-slate-50/30 border-b border-slate-100/80 h-10",children:"Target"}),de.map((g,w)=>{var P,M,F,y,k,L;return n.jsxs("td",{className:"px-0 py-0 whitespace-nowrap text-xs text-slate-500 bg-slate-50/30 border-b border-r border-slate-100/80 h-10 p-0 relative group/cell",onContextMenu:I=>{var R,T;return At(I,l.id,g.key,"target",((T=(R=l.monthlyData)==null?void 0:R[g.key])==null?void 0:T.targetNote)||"")},children:[n.jsx("input",{id:`cell-${l.id}-${g.key}-target`,type:"text",inputMode:"decimal",className:"w-full h-full bg-transparent text-center focus:outline-none focus:bg-white focus:ring-2 focus:ring-inset focus:ring-brand-500/30 px-1 min-w-[4.5rem] md:min-w-[4rem] transition-all font-medium text-slate-600 placeholder-slate-300",defaultValue:((M=(P=l.monthlyData)==null?void 0:P[g.key])==null?void 0:M.target)||"",onBlur:I=>St(l.id,g.key,"target",I.target.value),onKeyDown:I=>Pt(I,"target",j,w),title:((y=(F=l.monthlyData)==null?void 0:F[g.key])==null?void 0:y.targetNote)||""}),((L=(k=l.monthlyData)==null?void 0:k[g.key])==null?void 0:L.targetNote)&&n.jsx("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[6px] border-l-[6px] border-t-red-500/80 border-l-transparent pointer-events-none"})]},`${g.key}-target`)})]},`${l.id}-row1`),n.jsxs("tr",{className:"hover:bg-slate-50/40 transition-colors group/row",children:[n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-[11px] font-bold text-slate-400 uppercase tracking-wider h-10 border-b border-r border-slate-100/80",children:"Actual"}),de.map((g,w)=>{var M,F,y,k,L,I,R,T,C,Y,K,W;const P=ar(l.targetMeetingRule,(F=(M=l.monthlyData)==null?void 0:M[g.key])==null?void 0:F.target,(k=(y=l.monthlyData)==null?void 0:y[g.key])==null?void 0:k.actual);return n.jsxs("td",{className:"px-0 py-0 whitespace-nowrap text-xs text-slate-500 h-10 p-0 relative group/cell border-b border-r border-slate-100/80",onContextMenu:re=>{var ue,oe;return At(re,l.id,g.key,"actual",((oe=(ue=l.monthlyData)==null?void 0:ue[g.key])==null?void 0:oe.actualNote)||"")},children:[n.jsx("input",{id:`cell-${l.id}-${g.key}-actual`,type:"text",inputMode:"decimal",className:`w-full h-full bg-transparent text-center focus:outline-none focus:bg-white focus:ring-2 focus:ring-inset focus:ring-brand-500/30 px-1 min-w-[4.5rem] md:min-w-[4rem] transition-all ${(I=(L=l.monthlyData)==null?void 0:L[g.key])!=null&&I.actual?P?"text-rose-600 font-bold bg-rose-50/30":"text-slate-900 font-bold":"text-slate-300"}`,defaultValue:((T=(R=l.monthlyData)==null?void 0:R[g.key])==null?void 0:T.actual)||"",onBlur:re=>St(l.id,g.key,"actual",re.target.value),onKeyDown:re=>Pt(re,"actual",j,w),title:((Y=(C=l.monthlyData)==null?void 0:C[g.key])==null?void 0:Y.actualNote)||""}),((W=(K=l.monthlyData)==null?void 0:K[g.key])==null?void 0:W.actualNote)&&n.jsx("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[6px] border-l-[6px] border-t-red-500/80 border-l-transparent pointer-events-none"})]},`${g.key}-actual`)})]},`${l.id}-row2`)]},l.id))})]})})}),ie.length>0&&n.jsxs("div",{className:"space-y-10 md:space-y-12",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h3",{className:"text-xl md:text-2xl font-black text-slate-900 font-display tracking-tight flex items-center gap-4",children:[n.jsx("div",{className:"w-2 h-8 bg-brand-600 rounded-full shadow-sm shadow-brand-100"}),"Metric Trends"]})}),n.jsx("div",{className:`grid gap-8 md:gap-10 ${z?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"}`,children:ie.map(l=>{const j=de.map(y=>{var K,W,re,ue;const k=(W=(K=l.monthlyData)==null?void 0:K[y.key])==null?void 0:W.target,L=(ue=(re=l.monthlyData)==null?void 0:re[y.key])==null?void 0:ue.actual;let I=null,R=null,T=null;if(k){const oe=k.match(/^(?:\{|\[)?\s*(-?[\d.]+)\s*,\s*(-?[\d.]+)\s*(?:\}|\])?$/);if(oe){const Be=parseFloat(oe[1]),rt=parseFloat(oe[2]);!isNaN(Be)&&!isNaN(rt)&&(R=Be,T=rt)}const Te=parseFloat(k);isNaN(Te)||(I=Te)}const C=L?parseFloat(L):NaN,Y=isNaN(C)?null:C;return{name:y.label,shortName:y.label.split("/")[1],fullLabel:y.label,target:I,minTarget:R,maxTarget:T,actual:Y,rule:l.targetMeetingRule,rawTarget:k,rawActual:L}}),g=(s||[]).filter(y=>(y.linkedMetricIds||[]).includes(l.id)&&y.endDate).map(y=>{const[k,L]=(y.endDate||"").split("-"),I=parseInt(k,10),R=parseInt(L||"",10);if(isNaN(I)||isNaN(R))return null;const T=`${I}-${String(R).padStart(2,"0")}`,C=de.find(K=>K.key===T);return C?{x:C.label.split("/")[1],title:y.title||"Untitled A3",endDate:y.endDate}:null}).filter(y=>!!y),w={};g.forEach(y=>{w[y.x]||(w[y.x]=[]),w[y.x].push({title:y.title,endDate:y.endDate})});const P=_[l.id]||{min:"",max:""},M=O[l.id]||!1,F=[P.min!==""&&!isNaN(parseFloat(P.min))?parseFloat(P.min):"auto",P.max!==""&&!isNaN(parseFloat(P.max))?parseFloat(P.max):"auto"];return n.jsxs("div",{className:"bg-white p-5 md:p-8 rounded-2xl shadow-sm border border-slate-200/60 hover:shadow-xl hover:shadow-slate-200/40 transition-all duration-500 group/card",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-black text-slate-900 font-display tracking-tight mb-1 group-hover/card:text-brand-600 transition-colors",children:l.name}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:l.attribute||"N/A"}),n.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200"}),n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:l.scope||"N/A"})]})]}),n.jsxs("div",{className:"flex items-center gap-1 bg-slate-50 p-1 rounded-xl border border-slate-100",children:[n.jsx("button",{onClick:()=>br(l),disabled:Qe[l.id],className:`p-2.5 rounded-lg transition-all disabled:opacity-50 ${Qe[l.id]?"bg-indigo-50 text-indigo-400":"bg-gradient-to-br from-indigo-50 to-purple-50 text-indigo-600 hover:from-indigo-100 hover:to-purple-100 hover:shadow-md hover:scale-105 ring-1 ring-indigo-200/50"}`,title:"AI Performance Analysis",children:Qe[l.id]?n.jsx(It,{className:"w-4 h-4 animate-spin"}):n.jsx(We,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>N(y=>({...y,[l.id]:!y[l.id]})),className:`p-2.5 rounded-lg transition-all ${M?"bg-white text-slate-900 shadow-sm border-slate-200":"text-slate-400 hover:text-slate-600 hover:bg-white hover:shadow-sm"}`,title:"Adjust Scale",children:n.jsx(Rt,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>wr(l),disabled:et[l.id],className:"p-2.5 rounded-lg transition-all text-emerald-600 hover:text-emerald-700 hover:bg-white hover:shadow-sm disabled:opacity-50",title:"Create A3 with AI",children:et[l.id]?n.jsx(It,{className:"w-4 h-4 animate-spin"}):n.jsx(lt,{className:"w-4 h-4"})})]})]}),M&&n.jsx("div",{className:"mb-8 p-5 bg-slate-50/80 rounded-2xl text-xs border border-slate-200/50 shadow-inner animate-in slide-in-from-top-2 duration-300",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n.jsx(Rt,{className:"w-3.5 h-3.5 text-slate-400"}),n.jsx("span",{className:"font-black text-slate-500 uppercase tracking-wider text-[10px]",children:"Scale Controls"})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-slate-500 font-bold uppercase tracking-tighter text-[10px]",children:"Min"}),n.jsx("input",{type:"number",className:"w-24 px-3 py-2 bg-white border border-slate-200 rounded-xl focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 outline-none transition-all font-bold text-slate-700",placeholder:"Auto",value:P.min,onChange:y=>$(k=>({...k,[l.id]:{...k[l.id],min:y.target.value}}))})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-slate-500 font-bold uppercase tracking-tighter text-[10px]",children:"Max"}),n.jsx("input",{type:"number",className:"w-24 px-3 py-2 bg-white border border-slate-200 rounded-xl focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 outline-none transition-all font-bold text-slate-700",placeholder:"Auto",value:P.max,onChange:y=>$(k=>({...k,[l.id]:{...k[l.id],max:y.target.value}}))})]})]})]})}),n.jsx("div",{className:`w-full relative transition-all duration-300 ${z?"h-[300px]":"h-[500px]"}`,children:n.jsx(ia,{width:"100%",height:"100%",children:n.jsxs(Dn,{data:j,margin:{top:10,right:30,bottom:5,left:-25},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:`gradient-actual-${l.id}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),n.jsx(cr,{strokeDasharray:"8 8",vertical:!1,stroke:"#f1f5f9"}),n.jsx(qe,{dataKey:"name",tick:{fontSize:z?10:12,fill:"#94a3b8",fontWeight:700,fontVariant:"small-caps",textAnchor:z?"end":"middle",dy:z?5:10},angle:z?-45:0,axisLine:!1,tickLine:!1,interval:0,height:z?60:40}),n.jsx(Xe,{tick:{fontSize:11,fill:"#94a3b8",fontWeight:700},axisLine:!1,tickLine:!1,domain:F,dx:-5}),g.map((y,k)=>n.jsx(sa,{x:y.x,stroke:"#10b981",strokeWidth:1,strokeDasharray:"3 3"},`a3-marker-${l.id}-${k}`)),n.jsx(oa,{content:y=>{const{active:k,label:L,payload:I}=y;if(!k||!L)return null;const R=I||[],T=w[L]||[];return n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-slate-200 rounded-xl shadow-xl p-3 min-w-[160px] animate-in fade-in zoom-in duration-200",children:[n.jsx("div",{className:"font-bold text-slate-800 mb-2 border-b border-slate-100 pb-1 text-[13px] font-display",children:L}),n.jsx("div",{className:"space-y-1.5",children:R.map(C=>!C||C.value==null||Number.isNaN(C.value)?null:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:C.color}}),n.jsx("span",{className:"text-slate-500 font-medium text-[11px]",children:C.name||C.dataKey})]}),n.jsx("span",{className:"font-bold text-slate-900 text-[11px]",children:C.value})]},C.dataKey))}),T.length>0&&n.jsxs("div",{className:"mt-3 pt-2 border-t border-emerald-100",children:[n.jsx("div",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-wider mb-1.5",children:"A3 Completions"}),n.jsx("div",{className:"space-y-1",children:T.map((C,Y)=>n.jsxs("div",{className:"text-[11px] text-emerald-700 leading-snug flex items-start gap-1.5 font-medium bg-emerald-50/50 p-1.5 rounded-lg border border-emerald-100/50",children:[n.jsx(lt,{className:"w-3 h-3 mt-0.5 shrink-0"}),n.jsx("span",{children:C.title})]},Y))})]})]})}}),n.jsx(la,{verticalAlign:"top",align:"right",iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",fontWeight:700,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.1em",paddingBottom:"30px"}}),n.jsx(he,{type:"monotone",dataKey:"actual",stroke:"#6366f1",strokeWidth:4,dot:n.jsx(Tn,{}),activeDot:{r:8,strokeWidth:4,stroke:"#fff",fill:"#6366f1"},name:"Actual",connectNulls:!0}),l.targetMeetingRule==="within_range"?n.jsxs(n.Fragment,{children:[n.jsx(he,{type:"monotone",dataKey:"minTarget",stroke:"#f43f5e",strokeWidth:2,strokeDasharray:"4 4",dot:!1,activeDot:!1,name:"Min Target",connectNulls:!0}),n.jsx(he,{type:"monotone",dataKey:"maxTarget",stroke:"#f43f5e",strokeWidth:2,strokeDasharray:"4 4",dot:!1,activeDot:!1,name:"Max Target",connectNulls:!0})]}):n.jsx(he,{type:"monotone",dataKey:"target",stroke:"#f43f5e",strokeWidth:2,strokeDasharray:"8 8",dot:!1,name:"Target",connectNulls:!0})]})})})]},`${l.id}-chart`)})})]})]})}),n.jsx(_n,{isOpen:b,onClose:()=>A(!1)}),n.jsx($n,{isOpen:ce,onClose:()=>Le(!1),result:xe,metricName:Je}),n.jsx(D.Suspense,{fallback:null,children:n.jsx(fa,{isOpen:u,onClose:()=>{p(!1),x(null)},onSave:l=>{d&&(r({...d,...l}),c.success("Bowler list updated successfully"))},initialData:d||void 0})}),Fe&&rr.createPortal(n.jsx("div",{className:"fixed p-3 bg-gray-800 text-white text-xs rounded shadow-lg z-[9999] whitespace-normal break-words w-64 pointer-events-none",style:{left:Fe.x,top:Fe.y},children:Fe.content}),document.body)]})};export{Ln as default};
