import{e as y,r as a,j as e,G as w,X as j,I as v}from"./index-D-ja7ykh.js";const k=({isOpen:r,onClose:s,mode:i})=>{const{dashboardMarkdown:l,dashboardTitle:c,updateDashboardMarkdown:f,dashboardMindmaps:m,activeMindmapId:x}=y(),[u,n]=a.useState(""),[p,d]=a.useState(""),[g,o]=a.useState("");if(a.useEffect(()=>{if(r)if(i==="edit"){n(c||""),o(l||"");const t=m.find(b=>b.id===x);d((t==null?void 0:t.description)||"")}else n(""),d(""),o("")},[r,l,c,i,m,x]),!r)return null;const h=t=>{t.preventDefault(),f(g||"",u||void 0,{createNew:i==="create",description:p}),s()};return e.jsx("div",{className:"fixed inset-0 z-[70] overflow-y-auto","aria-labelledby":"mindmap-modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:s,children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[e.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 text-white shadow-md",children:e.jsx(w,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-semibold text-gray-900",id:"mindmap-modal-title",children:"Mindmap ideas"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Add a title and markdown content for your mindmap."})]})]}),e.jsx("button",{onClick:s,className:"ml-4 rounded-full p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition",children:e.jsx(j,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mb-4 flex items-start gap-2 rounded-md border border-indigo-50 bg-indigo-50/80 px-3 py-2 text-xs text-indigo-800",children:[e.jsx(v,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-indigo-500"}),e.jsx("p",{children:"Use a clear title and markdown bullets. The text content will drive the mindmap structure."})]}),e.jsx("form",{onSubmit:h,className:"space-y-4",children:e.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-100 bg-gray-50/60 p-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold tracking-wide text-gray-500 uppercase",children:"Title"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Short, descriptive name for this mindmap."}),e.jsx("input",{type:"text",className:"mt-2 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:u,onChange:t=>n(t.target.value),placeholder:"Quarterly performance review ideas"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold tracking-wide text-gray-500 uppercase",children:"Description"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional context or notes about this mindmap."}),e.jsx("textarea",{rows:3,className:"mt-2 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:p,onChange:t=>d(t.target.value),placeholder:"e.g. Ideas for quarterly performance review workshop"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold tracking-wide text-gray-500 uppercase",children:"Mindmap Text"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This markdown text drives the nodes in the mindmap. You can refine it anytime."}),e.jsx("textarea",{rows:12,className:"mt-2 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:g,onChange:t=>o(t.target.value),placeholder:`# Main topic
- Key point
  - Sub point`})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"submit",onClick:h,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm",children:i==="edit"?"Save Changes":"Create Mindmap"}),e.jsx("button",{type:"button",onClick:s,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})};export{k as MindmapModal};
