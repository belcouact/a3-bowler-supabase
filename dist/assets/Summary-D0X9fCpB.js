import{c as x,$ as o,a1 as h,r as l,O as e,a9 as m,as as p}from"./index-BmmYfibn.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=x("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),f=()=>{const{id:d}=o(),{a3Cases:n}=h(),s=n.find(t=>t.id===d),r=l.useRef(null),[a,i]=l.useState(()=>s&&s.mindMapNodes&&s.mindMapNodes.length>0?"mindmap":"text"),c=()=>{s&&typeof window<"u"&&window.print()};return s?e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500 print-summary-root",ref:r,children:[e.jsxs("div",{className:"flex justify-between items-end border-b border-slate-200 pb-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 font-display tracking-tight",children:"A3 Problem Solving Report"}),e.jsx("p",{className:"text-slate-500 text-lg",children:"Integrated view of the complete problem solving lifecycle"})]}),e.jsxs("button",{onClick:c,className:"px-6 py-2.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 text-sm font-bold flex items-center shadow-md hover:shadow-lg transition-all hover:-translate-y-0.5 print:hidden",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Print to PDF"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-12",children:[e.jsxs("section",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-brand-100 text-brand-600 flex items-center justify-center text-[10px]",children:"1"}),"Problem Statement"]})}),e.jsx("div",{className:"p-8",children:e.jsx("p",{className:"text-xl text-slate-800 leading-relaxed font-medium",children:s.problemStatement||e.jsx("span",{className:"text-slate-300 italic",children:"Not defined yet"})})})]}),e.jsxs("section",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-brand-100 text-brand-600 flex items-center justify-center text-[10px]",children:"2"}),"Data Analysis & Observations"]})}),e.jsxs("div",{className:"p-8 space-y-8",children:[s.dataAnalysisImages&&s.dataAnalysisImages.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Evidence Gallery"}),e.jsx("div",{className:"relative w-full bg-slate-50 rounded-2xl border border-slate-100 overflow-hidden shadow-inner",style:{height:s.dataAnalysisCanvasHeight&&s.dataAnalysisCanvasHeight>0?s.dataAnalysisCanvasHeight:500},children:e.jsx("div",{className:"w-full h-full relative",children:s.dataAnalysisImages.map(t=>e.jsx("div",{style:{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height},children:e.jsx("img",{src:t.src,alt:"evidence",className:"w-full h-full object-contain"})},t.id))})})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[e.jsx("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Key Observations"}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:s.dataAnalysisObservations||e.jsx("span",{className:"text-slate-300 italic",children:"No observations recorded"})})]})]})]}),e.jsxs("section",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[e.jsxs("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-brand-100 text-brand-600 flex items-center justify-center text-[10px]",children:"3"}),"Root Cause Analysis"]}),s.mindMapNodes&&s.mindMapNodes.length>0&&e.jsx("button",{type:"button",onClick:()=>i(a==="text"?"mindmap":"text"),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 transition-all shadow-sm print:hidden",children:a==="text"?"Show Mindmap":"Show Text Summary"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[e.jsx("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Final Root Cause"}),e.jsx("p",{className:"text-xl text-brand-900 font-bold",children:s.rootCause||e.jsx("span",{className:"text-slate-300 italic font-medium",children:"Root cause not identified yet"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Analysis Detail"}),a==="text"?e.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 font-mono text-sm text-slate-600 whitespace-pre-wrap leading-relaxed shadow-sm",children:s.mindMapText||e.jsx("span",{className:"text-slate-300 italic font-sans",children:"No detailed analysis recorded"})}):s.mindMapNodes&&s.mindMapNodes.length>0&&e.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden shadow-sm pointer-events-none",children:e.jsx(p,{initialNodes:s.mindMapNodes,initialScale:s.mindMapScale,fixedHeight:s.mindMapCanvasHeight})})]})]})]}),e.jsxs("section",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-brand-100 text-brand-600 flex items-center justify-center text-[10px]",children:"4"}),"Action Plan"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Task"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Owner"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Due Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:s.actionPlanTasks&&s.actionPlanTasks.length>0?s.actionPlanTasks.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:t.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 max-w-xs truncate",children:t.description||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:t.owner}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:t.endDate||"-"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${t.status==="Completed"?"bg-accent-100 text-accent-700":t.status==="In Progress"?"bg-brand-100 text-brand-700":"bg-slate-100 text-slate-600"}`,children:t.status})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-sm text-center text-slate-400 font-medium",children:"No actions defined yet."})})})]})})]}),e.jsxs("section",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-brand-100 text-brand-600 flex items-center justify-center text-[10px]",children:"5"}),"Results & Follow-up"]})}),e.jsxs("div",{className:"p-8 space-y-8",children:[s.resultImages&&s.resultImages.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Result Evidence"}),e.jsx("div",{className:"relative w-full bg-slate-50 rounded-2xl border border-slate-100 overflow-hidden shadow-inner",style:{height:s.resultCanvasHeight&&s.resultCanvasHeight>0?s.resultCanvasHeight:500},children:e.jsx("div",{className:"w-full h-full relative",children:s.resultImages.map(t=>e.jsx("div",{style:{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height},children:e.jsx("img",{src:t.src,alt:"result evidence",className:"w-full h-full object-contain"})},t.id))})})]}),e.jsxs("div",{className:"bg-accent-50 rounded-2xl p-6 border border-accent-100",children:[e.jsx("h5",{className:"text-xs font-bold text-accent-700/50 uppercase tracking-widest mb-3",children:"Outcome Summary"}),e.jsx("p",{className:"text-lg text-accent-900 font-medium leading-relaxed",children:s.results||e.jsx("span",{className:"text-accent-300 italic font-normal",children:"No results recorded yet"})})]})]})]})]})]}):e.jsx("div",{className:"flex items-center justify-center py-24",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(m,{className:"w-10 h-10 animate-spin text-brand-600"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium animate-pulse",children:"Preparing summary report..."})]})})};export{f as default};
