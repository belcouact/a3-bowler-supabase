import{c as E,r as a,al as W,O as e,d as P,aS as d,a6 as A,aT as z,a4 as G}from"./index-Cd45AUo9.js";import{L as u}from"./lock-DuB3gxxq.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=E("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=E("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),_=({isOpen:L,onClose:i})=>{const[o,x]=a.useState("login"),[m,p]=a.useState(""),[g,T]=a.useState(""),[b,U]=a.useState(""),[h,M]=a.useState(""),[c,I]=a.useState(""),[f,O]=a.useState(""),[y,q]=a.useState("Common user"),[j,R]=a.useState(""),[v,Z]=a.useState(""),[N,B]=a.useState(""),[w,F]=a.useState(!0),[S,l]=a.useState(""),[k,t]=a.useState(""),{login:D,signup:H,isLoading:n}=W();if(!L)return null;const J=async s=>{s.preventDefault(),t(""),l("");try{await D({username:m,password:g}),i()}catch(r){t(r.message||"An error occurred")}},V=async s=>{if(s.preventDefault(),t(""),l(""),c!==f){t("Passwords do not match");return}try{const r={username:b,password:c,role:y,email:h||void 0,profile:{country:j,plant:v,team:N,isPublic:w}};await H(r),x("login"),p(r.username),l("Signup successful! Please login.")}catch(r){t(r.message||"An error occurred")}},C=({id:s,label:r})=>e.jsx("button",{onClick:()=>{x(s),t(""),l("")},className:P("flex-1 py-3 text-xs font-medium tracking-wide transition-colors border-b-2",o===s?"border-blue-600 text-blue-600 bg-blue-50/40":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50/60"),children:e.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[s==="login"?e.jsx(K,{className:"h-3.5 w-3.5"}):e.jsx(Q,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:r})]})});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] px-3 py-4",children:e.jsxs("div",{className:P("bg-white rounded-xl w-full shadow-xl overflow-hidden transition-all max-h-[88vh] overflow-y-auto no-scrollbar border border-gray-100",o==="signup"?"max-w-xl":"max-w-md"),children:[e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx(C,{id:"login",label:"Login"}),e.jsx(C,{id:"signup",label:"Create Account"})]}),e.jsxs("div",{className:"px-4 py-5 sm:px-6 sm:py-6",children:[k&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md mb-4 text-sm",children:k}),S&&e.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-md mb-4 text-sm",children:S}),o==="login"?e.jsxs("form",{onSubmit:J,className:"space-y-5 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:m,onChange:s=>p(s.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter username",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(u,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",value:g,onChange:s=>T(s.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-2",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 bg-gray-100 text-gray-700 py-2.5 rounded-md hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-blue-600 text-white py-2.5 rounded-md hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:n?e.jsx(A,{className:"w-5 h-5 animate-spin"}):"Login"})]})]}):e.jsxs("form",{onSubmit:V,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create your account"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A single account lets you manage your bowlers and A3 cases across devices."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"space-y-3 bg-gray-50/60 rounded-lg border border-gray-100 p-4",children:[e.jsxs("h3",{className:"flex items-center justify-between text-sm font-semibold text-gray-800 border-b pb-2",children:[e.jsx("span",{children:"Account Details"}),e.jsx("span",{className:"text-[10px] font-medium text-blue-500 uppercase tracking-wide",children:"Step 1 of 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"User Account Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:b,onChange:s=>U(s.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter account name",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Email Address (optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(z,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",value:h,onChange:s=>M(s.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"name@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(u,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",value:c,onChange:s=>I(s.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(u,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",value:f,onChange:s=>O(s.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm password",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-3 bg-gray-50/60 rounded-lg border border-gray-100 p-4",children:[e.jsxs("h3",{className:"flex items-center justify-between text-sm font-semibold text-gray-800 border-b pb-2",children:[e.jsx("span",{children:"Profile Information"}),e.jsx("span",{className:"text-[10px] font-medium text-blue-500 uppercase tracking-wide",children:"Step 2 of 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Role"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:y,onChange:s=>q(s.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Role"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Region"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:j,onChange:s=>R(s.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"Select Region"}),e.jsx("option",{value:"China",children:"China"}),e.jsx("option",{value:"US",children:"US"}),e.jsx("option",{value:"EMEA",children:"EMEA"}),e.jsx("option",{value:"APAC",children:"APAC"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Plant/Office"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:v,onChange:s=>Z(s.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"Select Plant/Office"}),e.jsx("option",{value:"BJ",children:"BJ"}),e.jsx("option",{value:"SH",children:"SH"}),e.jsx("option",{value:"TW",children:"TW"}),e.jsx("option",{value:"SZFTZ",children:"SZFTZ"}),e.jsx("option",{value:"SZBAN",children:"SZBAN"}),e.jsx("option",{value:"EM1",children:"EM1"}),e.jsx("option",{value:"EM5",children:"EM5"}),e.jsx("option",{value:"LOV",children:"LOV"}),e.jsx("option",{value:"PU3",children:"PU3"}),e.jsx("option",{value:"Others",children:"Others"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Functional Team"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{value:N,onChange:s=>B(s.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"Select Functional Team"}),e.jsx("option",{value:"Commercial",children:"Commercial"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"Technical",children:"Technical"})]})})]}),e.jsx("div",{className:"pt-2",children:e.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-md bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:s=>F(s.target.checked),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 font-medium flex-1",children:"Public Profile"}),e.jsx("span",{className:"inline-flex items-center justify-center",title:"If checked, administrators and privileged users can consolidate your metrics & A3 data.",children:e.jsx(G,{className:"h-4 w-4 text-gray-400"})})]})})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 bg-gray-100 text-gray-700 py-2.5 rounded-md hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-blue-600 text-white py-2.5 rounded-md hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:n?e.jsx(A,{className:"w-5 h-5 animate-spin"}):"Sign Up"})]})]})]})]})})};export{_ as default};
